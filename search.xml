<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="2021/11/18/hello_world/hello_world/"/>
      <url>2021/11/18/hello_world/hello_world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to my Blog!</p><h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><h3 id="git-configå‘½ä»¤é¢„å…ˆé…ç½®å¥½ç›¸å…³çš„ç”¨æˆ·ä¿¡æ¯"><a href="#git-configå‘½ä»¤é¢„å…ˆé…ç½®å¥½ç›¸å…³çš„ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="git configå‘½ä»¤é¢„å…ˆé…ç½®å¥½ç›¸å…³çš„ç”¨æˆ·ä¿¡æ¯"></a>git configå‘½ä»¤é¢„å…ˆé…ç½®å¥½ç›¸å…³çš„ç”¨æˆ·ä¿¡æ¯</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;ä½ çš„åå­—æˆ–æ˜µç§°&quot;</span><br><span class="line">git config --global user.email &quot;ä½ çš„é‚®ç®±&quot;</span><br></pre></td></tr></table></figure><h3 id="ä¸‰æ­¥èµ°"><a href="#ä¸‰æ­¥èµ°" class="headerlink" title="ä¸‰æ­¥èµ°"></a>ä¸‰æ­¥èµ°</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add . #å°†å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°gitæš‚å­˜åŒº</span><br><span class="line">git commit -m &quot;my first commit&quot; #æäº¤å¹¶å¤‡æ³¨æäº¤ä¿¡æ¯</span><br><span class="line">git push origin master #å°†æœ¬åœ°æäº¤æ¨é€åˆ°è¿œç¨‹ä»“åº“</span><br></pre></td></tr></table></figure><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="å®‰è£…çš„æ’ä»¶"><a href="#å®‰è£…çš„æ’ä»¶" class="headerlink" title="å®‰è£…çš„æ’ä»¶"></a>å®‰è£…çš„æ’ä»¶</h3><h4 id="ç½‘å€è½¬æ‹¼éŸ³æ’ä»¶"><a href="#ç½‘å€è½¬æ‹¼éŸ³æ’ä»¶" class="headerlink" title="ç½‘å€è½¬æ‹¼éŸ³æ’ä»¶"></a>ç½‘å€è½¬æ‹¼éŸ³æ’ä»¶</h4><h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-permalink-pinyin --save</span><br></pre></td></tr></table></figure><h5 id="é…ç½®åŠä½¿ç”¨"><a href="#é…ç½®åŠä½¿ç”¨" class="headerlink" title="é…ç½®åŠä½¿ç”¨"></a>é…ç½®åŠä½¿ç”¨</h5><p>åœ¨æ ¹ç›®å½•ä¸­çš„_config.ymlä¸­å›½æ·»åŠ </p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç½‘ç«™ æ–‡å­—è½¬æ‹¼éŸ³</span></span><br><span class="line"><span class="attr">permalink_pinyin:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">separator:</span> <span class="string">&quot;_&quot;</span> <span class="comment"># default: &#x27;-&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="hexo-electric-clock-ç”µå­æ—¶é’Ÿæ’ä»¶"><a href="#hexo-electric-clock-ç”µå­æ—¶é’Ÿæ’ä»¶" class="headerlink" title="hexo-electric-clock ç”µå­æ—¶é’Ÿæ’ä»¶"></a>hexo-electric-clock ç”µå­æ—¶é’Ÿæ’ä»¶</h4><h5 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-electric-clock --save</span><br></pre></td></tr></table></figure><h5 id="é…ç½®åŠä½¿ç”¨-1"><a href="#é…ç½®åŠä½¿ç”¨-1" class="headerlink" title="é…ç½®åŠä½¿ç”¨"></a>é…ç½®åŠä½¿ç”¨</h5><p>ä¸æ˜¯ä¸»é¢˜çš„ymlæ–‡ä»¶</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">electric_clock:</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">layout:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">class</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">sticky_layout</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">temple_html:</span> <span class="string">&#x27;</span></span><br><span class="line"><span class="string">  &lt;div class=&quot;card-widget card-clock&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;!-- æŒ‚è½½å®¹å™¨ --&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;card-glass&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;card-background&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;card-content&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;div id=&quot;hexo_electric_clock&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;img</span></span><br><span class="line"><span class="string">              id=&quot;card-clock-loading&quot;</span></span><br><span class="line"><span class="string">              src=&quot;https://cdn.jsdelivr.net/gh/Zfour/Butterfly-clock/clock/images/weather/loading.gif&quot;</span></span><br><span class="line"><span class="string">              style=&quot;height: 120px; width: 100%;&quot;</span></span><br><span class="line"><span class="string">              data-ll-status=&quot;loading&quot;</span></span><br><span class="line"><span class="string">              class=&quot;entered loading&quot;</span></span><br><span class="line"><span class="string">            /&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ChartåŠ¨æ€å›¾æ ‡æ’ä»¶"><a href="#ChartåŠ¨æ€å›¾æ ‡æ’ä»¶" class="headerlink" title="ChartåŠ¨æ€å›¾æ ‡æ’ä»¶"></a>ChartåŠ¨æ€å›¾æ ‡æ’ä»¶</h4><h5 id="å®‰è£…-2"><a href="#å®‰è£…-2" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-chart --save</span><br></pre></td></tr></table></figure><h5 id="é…ç½®åŠä½¿ç”¨-2"><a href="#é…ç½®åŠä½¿ç”¨-2" class="headerlink" title="é…ç½®åŠä½¿ç”¨"></a>é…ç½®åŠä½¿ç”¨</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--fontColor:æ•°æ®é¢œè‰²--&gt;</span><br><span class="line">&lt;!--padding:ä¸Šä¸‹å·¦å³å¡«å……--&gt;</span><br><span class="line">&lt;!--suggestedMin:æœ€å°å€¼--&gt;</span><br><span class="line">&#123;% p center logo large, HelloğŸ˜œ %&#125;</span><br><span class="line"></span><br><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"></span></span></span><br><span class="line"><span class="strong"><span class="emphasis">&#123;% p center h1, ä¸€ä¸ªç”¨JSå¼€å‘çš„ç¡¬ä»¶å·¥ç¨‹å¸ˆ ğŸ˜‹ %&#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"></span></span></span><br><span class="line"><span class="strong"><span class="emphasis">&#123;% p center small, é›·è¾¾å›¾çœ‹ä¸åˆ°åˆ·æ–°åˆ·æ–°å°±å¥½å•¦ %&#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"></span></span></span><br><span class="line"><span class="strong"><span class="emphasis">&#123;% chart 100% 300 %&#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">&#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">  type: &#x27;radar&#x27;,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">  data: &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    labels: [&#x27;C&#x27;, &#x27;Python&#x27;, &#x27;HTML&#x27;, &#x27;micropython&#x27;, &#x27;ESP8266&#x27;, &#x27;ESP32&#x27;, &#x27;STM32&#x27;, &#x27;SCT15&#x27;, &#x27;å¾®ä¿¡å°ç¨‹åº&#x27;],</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    datasets: [&#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    label: &#x27;å€¼&#x27;,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    backgroundColor: &#x27;#9400D377&#x27;,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    borderColor: &#x27;#9400D3&#x27;,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    data: [20, 50, 40, 80, 40, 80, 55, 55, 10],</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    lineTension: 0.2,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    pointStyle: &#x27;rectRounded&#x27;,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    pointHoverBackgroundColor: &#x27;#FFFFFF&#x27;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    &#125;]</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">  &#125;,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">  options: &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    legend: &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        labels: &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">            fontColor: &#x27;#9400D3&#x27;, &lt;!--æ•°æ®é¢œè‰²--&gt;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">            fontSize: 12,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">            FontFamily: &#x27;&#x27;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        &#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    &#125;,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    layout: &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">      padding: &#123; &lt;!--ä¸Šä¸‹å·¦å³å¡«å……--&gt;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        left: 0,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        right: 0,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        top: 0,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        bottom: 0</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">      &#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    &#125;,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    responsive: true,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    title: &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">      display: true,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">      text: &#x27;My dataset&#x27;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    &#125;,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    scale: &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        angleLines: &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">            display: true</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        &#125;,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        ticks: &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">            suggestedMin: 0,    &lt;!--æœ€å°å€¼--&gt;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">            suggestedMax: 80  &lt;!--æœ€å¤§å€¼--&gt;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        &#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    &#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">  &#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">&#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">&#123;% endchart %&#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"></span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ ‘è“æ´¾å®‰è£…Ubuntu21.10</title>
      <link href="2021/11/06/shu_mei_pai_an_zhuang_ubuntu21_10/shu_mei_pai_an_zhuang_ubuntu21_10/"/>
      <url>2021/11/06/shu_mei_pai_an_zhuang_ubuntu21_10/shu_mei_pai_an_zhuang_ubuntu21_10/</url>
      
        <content type="html"><![CDATA[<h2 id="æ ‘è“æ´¾å®‰è£…-Ubuntu21-10"><a href="#æ ‘è“æ´¾å®‰è£…-Ubuntu21-10" class="headerlink" title="æ ‘è“æ´¾å®‰è£… Ubuntu21.10"></a>æ ‘è“æ´¾å®‰è£… Ubuntu21.10</h2><h3 id="ä¸‹è½½ã€å®‰è£…çƒ§å½•å·¥å…·"><a href="#ä¸‹è½½ã€å®‰è£…çƒ§å½•å·¥å…·" class="headerlink" title="ä¸‹è½½ã€å®‰è£…çƒ§å½•å·¥å…·"></a>ä¸‹è½½ã€å®‰è£…çƒ§å½•å·¥å…·</h3><p>Raspberry Pi Imagerï¼š<a target="_blank" rel="noopener" href="https://www.raspberrypi.com/software/">link</a></p><p><img src="1.png" class="lazyload placeholder" data-srcset="1.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="1.png"></p><p><img src="2.png" class="lazyload placeholder" data-srcset="2.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="1.png"></p><h3 id="çƒ§å½•è¿‡ç¨‹"><a href="#çƒ§å½•è¿‡ç¨‹" class="headerlink" title="çƒ§å½•è¿‡ç¨‹"></a>çƒ§å½•è¿‡ç¨‹</h3><h4 id="é€‰æ‹©é•œåƒ"><a href="#é€‰æ‹©é•œåƒ" class="headerlink" title="é€‰æ‹©é•œåƒ"></a>é€‰æ‹©é•œåƒ</h4><p>ç‚¹å‡»<code>CHOOSE OS</code>ï¼Œé€‰æ‹©<code>Other general purpose OS</code> ï¼Œå†é€‰æ‹© Ubuntu</p><p><img src="3.png" class="lazyload placeholder" data-srcset="3.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="1.png"></p><p><img src="4.png" class="lazyload placeholder" data-srcset="4.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="1.png"></p><p><img src="5.png" class="lazyload placeholder" data-srcset="5.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="1.png"></p><p>æ‰¾åˆ°ä¸è‡ªå·±æ ‘è“æ´¾ç›¸åº”çš„ç‰ˆæœ¬ï¼Œæˆ‘çš„æ˜¯ Raspberry 4ï¼Œå› æ­¤é€‰æ‹©ç¬¬ä¸€ä¸ª</p><p><img src="6.png" class="lazyload placeholder" data-srcset="6.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="1.png"></p><h4 id="é€‰æ‹©-SD-å¡è®¾å¤‡"><a href="#é€‰æ‹©-SD-å¡è®¾å¤‡" class="headerlink" title="é€‰æ‹© SD å¡è®¾å¤‡"></a>é€‰æ‹© SD å¡è®¾å¤‡</h4><p>ç‚¹å‡»<code>CHOOSE STORAGE</code> ï¼Œé€‰æ‹©è‡ªå·±çš„ SD å¡è®¾å¤‡</p><p><img src="7.png" class="lazyload placeholder" data-srcset="7.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="1.png"></p><p><img src="8.png" class="lazyload placeholder" data-srcset="8.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="1.png"></p><p>ç‚¹å‡»<code>WRITE</code></p><p><img src="9.png" class="lazyload placeholder" data-srcset="9.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="1.png"></p><p>ç­‰å¾…çƒ§å½•å®Œæˆï¼Œæ‹”å‡º SD å¡ï¼Œæ’å…¥æ ‘è“æ´¾å¡æ§½ï¼Œæ’ç”µæºå¼€æœºã€‚è‡³æ­¤ä¸ºæ ‘è“æ´¾å®‰è£… Ubuntu æµç¨‹ç»“æŸï¼Œæ’ä¸Šæ˜¾ç¤ºå™¨åæ•ˆæœå¦‚ä¸‹</p><p><img src="10.png" class="lazyload placeholder" data-srcset="10.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="1.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ ‘è“æ´¾ </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SPIé€šè®¯åè®®</title>
      <link href="2021/10/09/spi_tong_xun_xie_yi/spi_tong_xun_xie_yi/"/>
      <url>2021/10/09/spi_tong_xun_xie_yi/spi_tong_xun_xie_yi/</url>
      
        <content type="html"><![CDATA[<p>æ˜¾ç¤ºå± TFT-LCD ä¿¡å·æ¥å£æœ‰ SPIã€MCUã€RGBã€LVDSã€MIPIã€eDPã€HDMI ç­‰ç­‰å¤šç§ç±»å‹ã€‚å…¶ä¸­å°±åŒ…æ‹¬ SPI åè®®ï¼ŒSPI åè®®è¿˜æœ‰å…¶ä»–ç”¨é€”ï¼Œ<strong>FLASHRAM</strong>ã€<strong>ç½‘ç»œæ§åˆ¶å™¨</strong>ã€<strong>LCD æ˜¾ç¤ºé©±åŠ¨å™¨</strong>ã€<strong>A/D è½¬æ¢å™¨</strong>å’Œ<strong>MCU</strong>ç­‰ã€‚</p><h2 id="SPI-åè®®"><a href="#SPI-åè®®" class="headerlink" title="SPI åè®®"></a>SPI åè®®</h2><h3 id="é€šä¿¡åŸç†"><a href="#é€šä¿¡åŸç†" class="headerlink" title="é€šä¿¡åŸç†"></a>é€šä¿¡åŸç†</h3><p>éœ€è¦è‡³å°‘ 3 æ ¹çº¿ï¼Œåˆ†åˆ«æ˜¯ SDIï¼ˆæ•°æ®è¾“å…¥ï¼‰ã€SDOï¼ˆæ•°æ®è¾“å‡ºï¼‰ã€SCLKï¼ˆæ—¶é’Ÿï¼‰ã€CSï¼ˆç‰‡é€‰ï¼‰</p><ol><li>SDI â€“ SerialData In,ä¸²è¡Œæ•°æ®è¾“å…¥</li><li>SDO â€“ SerialDataOut,ä¸²è¡Œæ•°æ®è¾“å‡º</li><li>SCLK â€“ Serial Clock,æ—¶é’Ÿä¿¡å·ï¼Œç”±ä¸»è®¾å¤‡äº§ç”Ÿ</li><li>CS â€“ Chip Select,ä»è®¾å¤‡ä½¿èƒ½ä¿¡å·ï¼Œç”±ä¸»è®¾å¤‡æ§åˆ¶</li></ol><p><strong>CS</strong>æ˜¯<strong>ä»èŠ¯ç‰‡</strong>æ˜¯å¦è¢«<strong>ä¸»èŠ¯ç‰‡</strong>é€‰ä¸­çš„æ§åˆ¶ä¿¡å·ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰<strong>ç‰‡é€‰ä¿¡å·</strong>ä¸ºé¢„å…ˆè§„å®šçš„<strong>ä½¿èƒ½ä¿¡å·</strong>æ—¶ï¼ˆé«˜ç”µä½æˆ–ä½ç”µä½ï¼‰ï¼Œä¸»èŠ¯ç‰‡å¯¹æ­¤ä»èŠ¯ç‰‡çš„æ“ä½œ<strong>æ‰æœ‰æ•ˆ</strong>ã€‚è¿™å°±ä½¿åœ¨åŒä¸€æ¡æ€»çº¿ä¸Š<strong>è¿æ¥å¤šä¸ª SPI è®¾å¤‡</strong>æˆä¸ºå¯èƒ½ã€‚</p><h3 id="SPI-æ¥å£"><a href="#SPI-æ¥å£" class="headerlink" title="SPI æ¥å£"></a>SPI æ¥å£</h3><p>SPI æ¥å£æ˜¯åœ¨ CPU å’Œå¤–å›´ä½é€Ÿå™¨ä»¶ä¹‹é—´è¿›è¡Œ<strong>åŒæ­¥ä¸²è¡Œ</strong>æ•°æ®ä¼ è¾“ï¼Œåœ¨<strong>ä¸»å™¨ä»¶</strong>çš„ç§»ä½è„‰å†²ä¸‹ï¼Œæ•°æ®æŒ‰ä½ä¼ è¾“ï¼Œ<strong>é«˜</strong>ä½åœ¨<strong>å‰</strong>ï¼Œ<strong>ä½</strong>ä½åœ¨<strong>å</strong>ï¼Œä¸ºå…¨åŒå·¥é€šä¿¡ï¼Œæ•°æ®ä¼ è¾“é€Ÿåº¦æ€»ä½“æ¥è¯´æ¯”<strong>I2C</strong>æ€»çº¿è¦<strong>å¿«</strong>ï¼Œé€Ÿåº¦å¯è¾¾åˆ°å‡  Mbpsã€‚</p><p>ç‰¹ç‚¹ï¼šä¿¡å·çº¿å°‘ï¼Œåè®®ç®€å•ï¼Œç›¸å¯¹æ•°æ®é€Ÿç‡é«˜ã€‚</p><ol><li><p>MOSI â€“ ä¸»å™¨ä»¶æ•°æ®è¾“å‡ºï¼Œä»å™¨ä»¶æ•°æ®è¾“å…¥</p></li><li><p>MISO â€“ ä¸»å™¨ä»¶æ•°æ®è¾“å…¥ï¼Œä»å™¨ä»¶æ•°æ®è¾“å‡º</p></li><li><p>SCLK â€“æ—¶é’Ÿä¿¡å·ï¼Œç”±ä¸»å™¨ä»¶äº§ç”Ÿ,æœ€å¤§ä¸º fPCLK/2ï¼Œä»æ¨¡å¼é¢‘ç‡æœ€å¤§ä¸º fCPU/2</p></li><li><p>NSS â€“ ä»å™¨ä»¶ä½¿èƒ½ä¿¡å·ï¼Œç”±ä¸»å™¨ä»¶æ§åˆ¶,æœ‰çš„ IC ä¼šæ ‡æ³¨ä¸º CS(Chip select)</p></li></ol><p><strong>#æœªå®Œå¾…ç»­#</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> SPI </tag>
            
            <tag> tags2 </tag>
            
            <tag> tags3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºVScodeæ·»åŠ èƒŒæ™¯</title>
      <link href="2021/06/27/wei_vscode_tian_jia_bei_jing/wei_vscode_tian_jia_bei_jing/"/>
      <url>2021/06/27/wei_vscode_tian_jia_bei_jing/wei_vscode_tian_jia_bei_jing/</url>
      
        <content type="html"><![CDATA[<p>åŸç”Ÿçš„vscodeæ— èƒŒæ™¯ï¼Œæ²¡æœ‰ç†æƒ³çš„å¥½çœ‹</p><p><img src="vscode1.png" class="lazyload placeholder" data-srcset="vscode1.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="vscode1.png"></p><p>é‚£å¦‚ä½•ä¸ºVScodeæ·»åŠ è‡ªå·±å–œæ¬¢çš„å£çº¸å‘¢ï¼Ÿ</p><p>æ‰“å¼€VScodeæ–‡ä»¶æ‰€åœ¨ä½ç½®ï¼Œæˆ‘çš„å®‰è£…è·¯å¾„æ˜¯<code>C:\Users\ç”¨æˆ·å\AppData\Local\Programs\Microsoft VS Code\</code><br>å†ä¾æ¬¡æ‰“å¼€ç›®å½•<code>\resources\app\out\vs\workbench</code><br>å®Œæ•´è·¯å¾„æ˜¯: <code>C:\Users\ç”¨æˆ·å\AppData\Local\Programs\Microsoft VS Code\resources\app\out\vs\workbench</code><br>æ‰“å¼€æ–‡ä»¶<code>workbench.desktop.main.css</code></p><p><img src="vscode2.png" class="lazyload placeholder" data-srcset="vscode2.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="vscode2.png"></p><p>æ·»åŠ å¦‚ä¸‹ä»£ç </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="comment">/*èƒŒæ™¯å›¾ç‰‡çš„è·¯å¾„*/</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(C:/Users/ç”¨æˆ·å/<span class="number">123</span>.jpg);</span><br><span class="line">    <span class="comment">/* å›¾ç‰‡ä¸é‡å¤ */</span></span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="comment">/* å›¾ç‰‡ä½ç½® */</span></span><br><span class="line">    <span class="attribute">background-position</span>: center;</span><br><span class="line">    <span class="comment">/* å›¾ç‰‡å¤§å° */</span></span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">    <span class="comment">/* é€æ˜åº¦ */</span></span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.7</span>;</span><br><span class="line">    <span class="comment">/* opacity: 0.75; */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="vscode3.png" class="lazyload placeholder" data-srcset="vscode3.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="vscode3.png"></p><p><code>Ctrl + S</code>ä¿å­˜ï¼Œé‡å¯VScodeå³å¯ï¼Œæ•ˆæœå¦‚ä¸‹ã€‚</p><p><img src="vscode4.png" class="lazyload placeholder" data-srcset="vscode4.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="vscode4.png"></p><p>å¯èƒ½ä¼šæç¤ºCodeå¯èƒ½æŸåï¼Œè¿™ä¸ªå¯ä»¥å¿½ç•¥ï¼Œé€‰æ‹©ä¸å†æç¤ºå°±å¯ä»¥äº†ã€‚</p><p><img src="vscode5.png" class="lazyload placeholder" data-srcset="vscode5.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="vscode5.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Vscode </tag>
            
            <tag> ç¾åŒ– </tag>
            
            <tag> DIY </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DS18B20æµ‹æ¸©èŠ¯ç‰‡é©±åŠ¨ä»£ç </title>
      <link href="2021/06/02/ds18b20_ce_wen_xin_pian/ds18b20_ce_wen_xin_pian_qu_dong_dai_ma/"/>
      <url>2021/06/02/ds18b20_ce_wen_xin_pian/ds18b20_ce_wen_xin_pian_qu_dong_dai_ma/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ä¸‹ä»£ç åœ¨STC15W408ASå•ç‰‡æœºè¿›è¡Œæµ‹è¯•ï¼Œåé¢è¿˜æœ‰è‡ªåˆ¶çš„PCBçš„åŸç†å›¾å’Œlayoutè®¾è®¡ï¼ˆå› æŸäº›åŸå› éœ€è¦åˆ¶ä½œè¿™æ ·ä¸€å—æ˜¾ç¤ºæ¸©åº¦çš„å°é¡¹ç›®ï¼Œåˆæƒ³èŠ‚çº¦æˆæœ¬ï¼Œäºæ˜¯ç”»çš„ååˆ†ç®€é™‹â€¦â€¦ï¼‰</p><h2 id="DS18B20é©±åŠ¨ä»£ç "><a href="#DS18B20é©±åŠ¨ä»£ç " class="headerlink" title="DS18B20é©±åŠ¨ä»£ç "></a>DS18B20é©±åŠ¨ä»£ç </h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;stc15.h&quot;</span> <span class="comment">//æ­¤å¤„åº”ä¿®æ”¹ä¸ºç›¸åº”çš„å•ç‰‡æœºåº“</span></span></span><br><span class="line"></span><br><span class="line">sbit DQ = P1^<span class="number">1</span>;  <span class="comment">//æ­¤å¤„ä¸ºè¿æ¥DS18B20çš„å¼•è„šå·</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å•æ€»çº¿å»¶æ—¶å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay_OneWire</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> t)</span>  <span class="comment">//STC89C52RC</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> i;</span><br><span class="line"><span class="keyword">while</span>(t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">12</span>;i++);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡å•æ€»çº¿å‘DS18B20å†™ä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Write_DS18B20</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> dat)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">DQ = <span class="number">0</span>;</span><br><span class="line">DQ = dat&amp;<span class="number">0x01</span>;</span><br><span class="line">Delay_OneWire(<span class="number">5</span>);</span><br><span class="line">DQ = <span class="number">1</span>;</span><br><span class="line">dat &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">Delay_OneWire(<span class="number">5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»DS18B20è¯»å–ä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="title">Read_DS18B20</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> i;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> dat;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">DQ = <span class="number">0</span>;</span><br><span class="line">dat &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">DQ = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(DQ)</span><br><span class="line">&#123;</span><br><span class="line">dat |= <span class="number">0x80</span>;</span><br><span class="line">&#125;    </span><br><span class="line">Delay_OneWire(<span class="number">5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> dat;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//DS18B20è®¾å¤‡åˆå§‹åŒ–</span></span><br><span class="line"><span class="function">bit <span class="title">init_ds18b20</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  bit initflag = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  DQ = <span class="number">1</span>;</span><br><span class="line">  Delay_OneWire(<span class="number">12</span>);</span><br><span class="line">  DQ = <span class="number">0</span>;</span><br><span class="line">  Delay_OneWire(<span class="number">80</span>);</span><br><span class="line">  DQ = <span class="number">1</span>;</span><br><span class="line">  Delay_OneWire(<span class="number">10</span>); </span><br><span class="line">    initflag = DQ;     </span><br><span class="line">  Delay_OneWire(<span class="number">5</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> initflag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="title">rd_temperature</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> low,high;</span><br><span class="line">  <span class="keyword">char</span> temp;</span><br><span class="line">  </span><br><span class="line">  init_ds18b20();</span><br><span class="line">  Write_DS18B20(<span class="number">0xCC</span>);</span><br><span class="line">  Write_DS18B20(<span class="number">0x44</span>); <span class="comment">//å¯åŠ¨æ¸©åº¦è½¬æ¢</span></span><br><span class="line">  Delay_OneWire(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">  init_ds18b20();</span><br><span class="line">  Write_DS18B20(<span class="number">0xCC</span>);</span><br><span class="line">  Write_DS18B20(<span class="number">0xBE</span>); <span class="comment">//è¯»å–å¯„å­˜å™¨</span></span><br><span class="line"></span><br><span class="line">  low = Read_DS18B20(); <span class="comment">//ä½å­—èŠ‚</span></span><br><span class="line">  high = Read_DS18B20(); <span class="comment">//é«˜å­—èŠ‚</span></span><br><span class="line">  </span><br><span class="line">  temp = high&lt;&lt;<span class="number">4</span>;</span><br><span class="line">  temp |= (low&gt;&gt;<span class="number">4</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="PCBæ–‡ä»¶åŠå…¶ç¤ºæ„å›¾"><a href="#PCBæ–‡ä»¶åŠå…¶ç¤ºæ„å›¾" class="headerlink" title="PCBæ–‡ä»¶åŠå…¶ç¤ºæ„å›¾"></a>PCBæ–‡ä»¶åŠå…¶ç¤ºæ„å›¾</h2><p>PCBæ–‡ä»¶ä»¥å‹ç¼©åŒ…å½¢å¼æ‰“åŒ…ã€‚<a href="%E6%B8%A9%E6%8E%A7.rar">æˆ³æˆ‘ä¸‹è½½</a><br>æ³¨ï¼šæˆ‘ç”»çš„æ˜¯æ‹¼æ¿ï¼Œå³ä¾§çš„é‚£å—å¯èƒ½åœ°çº¿æ²¡æœ‰æ¥åˆ°ä¸€èµ·ã€‚</p><h3 id="PCBåŸä»¶å¸ƒå±€"><a href="#PCBåŸä»¶å¸ƒå±€" class="headerlink" title="PCBåŸä»¶å¸ƒå±€"></a>PCBåŸä»¶å¸ƒå±€</h3><p><img src="pcb.jpg" class="lazyload placeholder" data-srcset="pcb.jpg" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="pcb.jpg"></p><h3 id="BOMè¡¨"><a href="#BOMè¡¨" class="headerlink" title="BOMè¡¨"></a>BOMè¡¨</h3><table><thead><tr><th align="center">Comment</th><th align="center">Description</th><th align="center">Footprint</th><th align="center">Quantity</th></tr></thead><tbody><tr><td align="center">5261AS</td><td align="center">äºŒä½å…±é˜´æ•°ç ç®¡</td><td align="center">5261AS</td><td align="center">1</td></tr><tr><td align="center">LED</td><td align="center">å‘å…‰äºŒæç®¡</td><td align="center">0603</td><td align="center">1</td></tr><tr><td align="center">Header 4</td><td align="center">Header, 4-Pin</td><td align="center">HDR1X4</td><td align="center">1</td></tr><tr><td align="center">Res</td><td align="center">10K</td><td align="center">0603</td><td align="center">1</td></tr><tr><td align="center">Res</td><td align="center">5.1R</td><td align="center">0603</td><td align="center">1</td></tr><tr><td align="center">STC15W408AS</td><td align="center">C51å•ç‰‡æœº</td><td align="center">SOP-16</td><td align="center">1</td></tr><tr><td align="center">DS18B20æ¨¡ç»„</td><td align="center">DS18B20æ¨¡ç»„</td><td align="center">DS18B20æ¨¡ç»„</td><td align="center">1</td></tr></tbody></table><p>DS18B20æ¨¡ç»„ç›¸å…³æ–‡ä»¶ç”±æ·˜å®å•†å®¶æä¾›ï¼Œä»¥ä¸‹æ˜¯æ·˜å®å•†å®¶å…¬å¼€çš„ç™¾åº¦ç½‘ç›˜è¿æ¥ã€‚<br><a target="_blank" rel="noopener" href="https://pan.baidu.com/s/19CwH6CAaWgVBMKmCA28ygQ">https://pan.baidu.com/s/19CwH6CAaWgVBMKmCA28ygQ</a> æå–ç ï¼šlggj</p><h2 id="å•ç‰‡æœºä»£ç "><a href="#å•ç‰‡æœºä»£ç " class="headerlink" title="å•ç‰‡æœºä»£ç "></a>å•ç‰‡æœºä»£ç </h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;stc15.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;intrins.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;onewire.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;absacc.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> uchar unsigned char</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> uint unsigned int</span></span><br><span class="line"></span><br><span class="line">sbit LED = P3 ^ <span class="number">2</span>; <span class="comment">//Hæœ‰æ•ˆ</span></span><br><span class="line">sbit DIGITAL_a = P1 ^ <span class="number">2</span>;</span><br><span class="line">sbit DIGITAL_b = P1 ^ <span class="number">3</span>;</span><br><span class="line">sbit DIGITAL_c = P1 ^ <span class="number">4</span>;</span><br><span class="line">sbit DIGITAL_d = P1 ^ <span class="number">5</span>;</span><br><span class="line">sbit DIGITAL_e = P5 ^ <span class="number">4</span>;  <span class="comment">//sbit DIGITAL_e = P2 ^ 4;</span></span><br><span class="line">sbit DIGITAL_f = P5 ^ <span class="number">5</span>;  <span class="comment">//sbit DIGITAL_e = P2 ^ 5;</span></span><br><span class="line">sbit DIGITAL_g = P1 ^ <span class="number">0</span>;</span><br><span class="line">sbit DIGITAL_dp = P3 ^ <span class="number">7</span>;</span><br><span class="line">sbit DIGITAL_H = P3 ^ <span class="number">6</span>;</span><br><span class="line">sbit DIGITAL_L = P3 ^ <span class="number">3</span>;</span><br><span class="line"><span class="comment">//sbit DQ = P1 ^ 1;</span></span><br><span class="line"></span><br><span class="line">bit temper_flag = <span class="number">0</span>; <span class="comment">//æ¸©åº¦è¯»å–æ ‡å¿—</span></span><br><span class="line"><span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> intr = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æ•°ç ç®¡æ˜¾ç¤ºæ•°å­—*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printf_num</span><span class="params">(num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DIGITAL_a = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_b = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_c = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_d = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_e = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_f = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_g = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*æ˜¾ç¤º1*/</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DIGITAL_a = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_b = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_c = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_d = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_e = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_f = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_g = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*æ˜¾ç¤º2*/</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DIGITAL_a = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_b = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_c = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_d = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_e = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_f = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_g = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*æ˜¾ç¤º3*/</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DIGITAL_a = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_b = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_c = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_d = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_e = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_f = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_g = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*æ˜¾ç¤º4*/</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">4</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DIGITAL_a = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_b = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_c = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_d = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_e = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_f = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_g = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*æ˜¾ç¤º0*/</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">5</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DIGITAL_a = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_b = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_c = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_d = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_e = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_f = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_g = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*æ˜¾ç¤º6*/</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">6</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DIGITAL_a = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_b = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_c = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_d = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_e = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_f = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_g = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*æ˜¾ç¤º7*/</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">7</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DIGITAL_a = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_b = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_c = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_d = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_e = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_f = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_g = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*æ˜¾ç¤º8*/</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">8</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DIGITAL_a = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_b = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_c = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_d = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_e = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_f = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_g = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*æ˜¾ç¤º9*/</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">9</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DIGITAL_a = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_b = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_c = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_d = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_e = <span class="number">0</span>;</span><br><span class="line">        DIGITAL_f = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_g = <span class="number">1</span>;</span><br><span class="line">        DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æ•°ç ç®¡æ˜¾ç¤ºæ¸©åº¦*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printf_wendu</span><span class="params">(num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//printf_num(num/10);</span></span><br><span class="line">    DIGITAL_H = <span class="number">0</span>;</span><br><span class="line">    printf_num(num / <span class="number">10</span>);</span><br><span class="line">    <span class="comment">//    DIGITAL_H = 0;</span></span><br><span class="line">    DIGITAL_H = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    DIGITAL_a = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_b = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_c = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_d = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_e = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_f = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_g = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Delay_printf_wendu();</span></span><br><span class="line">    <span class="comment">//printf_num(num%10);</span></span><br><span class="line">    DIGITAL_L = <span class="number">0</span>;</span><br><span class="line">    printf_num(num % <span class="number">10</span>);</span><br><span class="line">    <span class="comment">//    DIGITAL_L = 0;</span></span><br><span class="line">    DIGITAL_L = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    DIGITAL_a = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_b = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_c = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_d = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_e = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_f = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_g = <span class="number">0</span>;</span><br><span class="line">    DIGITAL_dp = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Delay_printf_wendu();</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> temperature;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (temper_flag)</span><br><span class="line">        &#123;</span><br><span class="line">            temper_flag = <span class="number">0</span>;</span><br><span class="line">            temperature = rd_temperature(); <span class="comment">//è¯»æ¸©åº¦</span></span><br><span class="line">temp = temperature;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">printf_wendu(temp);</span><br><span class="line">intr++;</span><br><span class="line">    <span class="keyword">if</span> (intr == <span class="number">100</span>) <span class="comment">//1msæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">    &#123;</span><br><span class="line">        intr = <span class="number">0</span>;</span><br><span class="line">        temper_flag = <span class="number">1</span>; <span class="comment">//100msæ¸©åº¦è¯»å–æ ‡å¿—ä½ç½®1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> DS18B20 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºValineè¯„è®ºæ·»åŠ QQå¤´åƒè¯†åˆ«</title>
      <link href="2021/04/26/wei_valine_ping_lun_tian_jia_qq_tou_xiang_shi_bie/wei_valine_ping_lun_tian_jia_qq_tou_xiang_shi_bie/"/>
      <url>2021/04/26/wei_valine_ping_lun_tian_jia_qq_tou_xiang_shi_bie/wei_valine_ping_lun_tian_jia_qq_tou_xiang_shi_bie/</url>
      
        <content type="html"><![CDATA[<h2 id="Valine"><a href="#Valine" class="headerlink" title="Valine"></a>Valine</h2><p>F12 æŸ¥çœ‹æºç </p><p><img src="bug_1.png" class="lazyload placeholder" data-srcset="bug_1.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="bug_1.png"></p><p>åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹æŸ¥è¯¢ Valine.js æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰ Valine å¯ä»¥å»è¿™é‡Œå¤åˆ¶ä¸‹è½½<a target="_blank" rel="noopener" href="https://unpkg.com/valine@1.4.14/dist/Valine.min.js">link</a></p><p>æ‰“å¼€æ–‡ä»¶ Valine.jsï¼Œ<code>Ctrl + F</code>æŸ¥è¯¢<code>img class=&quot;vimg&quot;</code>ï¼Œæ³¨æ„ç»¿è‰²æ¡†çš„ä»£ç ï¼Œç­‰ä¸‹è¦ä¿®æ”¹çš„éƒ¨åˆ†ã€‚</p><p>æŸ¥åˆ°åä¿®æ”¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&lt;img class=&quot;vimg&quot; src=&quot;&#x27;</span> +</span><br><span class="line">  (T.cdn + (<span class="number">0</span>, s.default)(t.get(<span class="string">&quot;mail&quot;</span>)) + T.params) +</span><br><span class="line">  <span class="string">&#x27;&quot;&gt;&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&lt;img class=&quot;vimg&quot; src=&quot;&#x27;</span> + qq_img + <span class="string">&#x27;&quot;&gt;&#x27;</span>;</span><br></pre></td></tr></table></figure><p>è¦æ·»åŠ çš„ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//var qq_img = m.cdn + a(e.get(&quot;mail&quot;)) + m.params;</span></span><br><span class="line"><span class="keyword">var</span> qq_img = T.cdn + (<span class="number">0</span>, s.default)(t.get(<span class="string">&quot;mail&quot;</span>)) + T.params;</span><br><span class="line"><span class="keyword">if</span> (t.get(<span class="string">&quot;mail&quot;</span>).indexOf(<span class="string">&quot;@qq.com&quot;</span>) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> prefix = t.get(<span class="string">&quot;mail&quot;</span>).replace(<span class="regexp">/@.*/</span>, <span class="string">&quot;&quot;</span>);<span class="comment">//å‰ç¼€</span></span><br><span class="line">  <span class="keyword">var</span> pattern = <span class="regexp">/^\d+$/g</span>;  <span class="comment">//æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line">  <span class="keyword">var</span> result = prefix.match(pattern);<span class="comment">//match æ˜¯åŒ¹é…çš„æ„æ€</span></span><br><span class="line">  <span class="keyword">if</span> (result !== <span class="literal">null</span>) &#123;</span><br><span class="line">    qq_img = <span class="string">&quot;//q1.qlogo.cn/g?b=qq&amp;nk=&quot;</span> + prefix + <span class="string">&quot;&amp;s=100&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="code_1.png" class="lazyload placeholder" data-srcset="code_1.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="code_1.png"></p><h2 id="ä¿®æ”¹æµç¨‹"><a href="#ä¿®æ”¹æµç¨‹" class="headerlink" title="ä¿®æ”¹æµç¨‹"></a>ä¿®æ”¹æµç¨‹</h2><p>æµç¨‹ï¼š</p><ol><li>é»˜è®¤è¿˜æ˜¯gravatorå¤´åƒæ¥å£</li><li>åˆ¤æ–­æ˜¯å¦æ˜¯qqé‚®ç®±ï¼Œæå–å‰ç¼€prefix</li><li>qqå¤´åƒæ¥å£æ˜¯qqå·ï¼Œå¦‚æ­£åˆ™ç­›é€‰å‰”é™¤â€“é‡å‘½åäº†å¸¦è‹±æ–‡çš„qqé‚®ç®±</li><li>æ‹¼æ¥å¤´åƒåœ°å€</li><li>åŠ å…¥srcæ˜¾ç¤ºï¼</li></ol><p>å‚è€ƒåšå®¢é“¾æ¥ï¼š<a href="">https://blog.csdn.net/cungudafa/article/details/104638730</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> valine </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨materialä¸»é¢˜ä½¿ç”¨BBtalk</title>
      <link href="2021/04/25/zai_material_zhu_ti_shi_yong_bbtalk/zai_material_zhu_ti_shi_yong_bbtalk/"/>
      <url>2021/04/25/zai_material_zhu_ti_shi_yong_bbtalk/zai_material_zhu_ti_shi_yong_bbtalk/</url>
      
        <content type="html"><![CDATA[<h2 id="æ–°å»ºBBtalké¡µé¢"><a href="#æ–°å»ºBBtalké¡µé¢" class="headerlink" title="æ–°å»ºBBtalké¡µé¢"></a>æ–°å»ºBBtalké¡µé¢</h2><p>ç»ˆç«¯è¾“å…¥<code>hexo new page bb</code></p><p>æ‰“å¼€<a target="_blank" rel="noopener" href="https://bb.js.org/quick-start.html#cdn%E5%BC%95%E7%94%A8">BBtalk</a>æ–‡æ¡£</p><p>å¤åˆ¶<code>CDNå¼•ç”¨</code>ä¸‹æ–¹çš„ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­˜æ”¾å“”å“”çš„å®¹å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;bbtalk&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•ç”¨ bbtalk --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/bbtalk@0.1.5/dist/bbtalk.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">bbtalk.init(&#123;</span><br><span class="line"><span class="javascript">  appId: <span class="string">&quot;Y5IDwC47czJFXXXXXXSlU44Y-MdYXbMMI&quot;</span>,</span></span><br><span class="line"><span class="javascript">  appKey: <span class="string">&quot;qgrJ3nRwXXXXXXwwnVfj0uaQ&quot;</span>,</span></span><br><span class="line"><span class="javascript">  serverURLs: <span class="string">&#x27;https://AppIDå‰å…«ä½.api.lncldglobal.com&#x27;</span></span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="./Code_1.png" class="lazyload placeholder" data-srcset="./Code_1.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="Code_1"></p><p>ç»ˆç«¯è¾“å…¥<code>hexo s</code>æ•ˆæœå¦‚ä¸‹,åœ†ç‚¹ä½ç½®ä¼šæœ‰åå·®ï¼š</p><p><img src="./test_1.png" class="lazyload placeholder" data-srcset="./test_1.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="test_1"></p><p>æ‰“å¼€ä¸‹æ–¹é“¾æ¥ï¼Œå¤åˆ¶jså†…å®¹ï¼Œåœ¨æœ¬åœ°æ–°å»ºä¸€ä¸ª<code>bbtalk.min.js</code>ã€‚</p><p><a href="https://hp-l.gitee.io/phone/bb/bbtalk.min.js">https://hp-l.gitee.io/phone/bb/bbtalk.min.js</a></p><p>å†å°†ä¸Šæ–‡ä¸­çš„å¤åˆ¶çš„<code>CDNå¼•ç”¨</code>ä¸‹æ–¹çš„ä»£ç  <code>https://cdn.jsdelivr.net/npm/bbtalk@0.1.5/dist/bbtalk.min.js</code> æ”¹æˆ <code>./bbtalk.min.js</code></p><p>å³</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­˜æ”¾å“”å“”çš„å®¹å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;bbtalk&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•ç”¨ bbtalk --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./bbtalk.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">bbtalk.init(&#123;</span><br><span class="line"><span class="javascript">  appId: <span class="string">&quot;Y5IDwC47czJFXXXXXXSlU44Y-MdYXbMMI&quot;</span>,</span></span><br><span class="line"><span class="javascript">  appKey: <span class="string">&quot;qgrJ3nRwXXXXXXwwnVfj0uaQ&quot;</span>,</span></span><br><span class="line"><span class="javascript">  serverURLs: <span class="string">&#x27;https://AppIDå‰å…«ä½.api.lncldglobal.com&#x27;</span></span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼Œè¿˜éœ€è¿›ä¸€æ­¥è°ƒæ•´ã€‚</p><p><img src="./test_2.png" class="lazyload placeholder" data-srcset="./test_2.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="test_2.png"><br><img src="test_3.jpg" class="lazyload placeholder" data-srcset="test_3.jpg" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="test_3"></p>]]></content>
      
      
      
        <tags>
            
            <tag> material </tag>
            
            <tag> BBtalk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STM32ç‚¹äº®LED</title>
      <link href="2021/01/31/stm32_dian_liang_led/stm32_dian_liang_led/"/>
      <url>2021/01/31/stm32_dian_liang_led/stm32_dian_liang_led/</url>
      
        <content type="html"><![CDATA[<p>ç‚¹ç¯å°±ç›¸å½“äº python çš„<code>print(&quot;hello world&quot;)</code></p><h2 id="å®šä¹‰å¼•è„š"><a href="#å®šä¹‰å¼•è„š" class="headerlink" title="å®šä¹‰å¼•è„š"></a>å®šä¹‰å¼•è„š</h2><p>æ‰“å¼€å·¥ç¨‹æ–‡ä»¶åï¼Œæ‰¾åˆ°ç›¸åº”çš„å¼•è„šï¼Œå•å‡»é€‰æ‹©<code>GPIO_Output</code>ï¼Œå†å³é”®é€‰æ‹© Enter User Labelï¼Œè¾“å…¥å®šä¹‰çš„åç§°ã€‚</p><p><img src="./LED_1.png" class="lazyload placeholder" data-srcset="./LED_1.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="å·¥ç¨‹"></p><p><img src="./LED_2.png" class="lazyload placeholder" data-srcset="./LED_2.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="LED_2"><br><img src="./LED_3.png" class="lazyload placeholder" data-srcset="./LED_3.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="LED_3"><br><img src="./LED_4.png" class="lazyload placeholder" data-srcset="./LED_4.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="LED_4"></p><p>ç‚¹å‡»ç”Ÿæˆä»£ç </p><p><img src="./CODE_1.png" class="lazyload placeholder" data-srcset="./CODE_1.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="ç‚¹å‡»ç”Ÿæˆä»£ç "><br><img src="./CODE_2.png" class="lazyload placeholder" data-srcset="./CODE_2.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="ç­‰å¾…ç”Ÿæˆä»£ç "></p><p>ç‚¹ç¯ä»£ç å¦‚ä¸‹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‚¹ç¯ä»£ç     LED1é—ªçƒ</span></span><br><span class="line"> HAL_GPIO_TogglePin(LED1_GPIO_Port, LED1_Pin);</span><br><span class="line"> HAL_Delay(<span class="number">300</span>);</span><br></pre></td></tr></table></figure><p>è‡ªåŠ¨ç”Ÿæˆä»£ç å¦‚ä¸‹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">/* USER CODE BEGIN 1 */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* USER CODE END 1 */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* MCU Configuration--------------------------------------------------------*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Reset of all peripherals, Initializes the Flash interface and the Systick. */</span></span><br><span class="line">  HAL_Init();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* USER CODE BEGIN Init */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* USER CODE END Init */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Configure the system clock */</span></span><br><span class="line">  SystemClock_Config();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* USER CODE BEGIN SysInit */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* USER CODE END SysInit */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Initialize all configured peripherals */</span></span><br><span class="line">  MX_GPIO_Init();</span><br><span class="line">  <span class="comment">/* USER CODE BEGIN 2 */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* USER CODE END 2 */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Infinite loop */</span></span><br><span class="line">  <span class="comment">/* USER CODE BEGIN WHILE */</span></span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">/* USER CODE END WHILE */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* USER CODE BEGIN 3 */</span></span><br><span class="line">    <span class="comment">//ç‚¹ç¯ä»£ç     LED1é—ªçƒ</span></span><br><span class="line">    HAL_GPIO_TogglePin(LED1_GPIO_Port, LED1_Pin);</span><br><span class="line">    HAL_Delay(<span class="number">300</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/* USER CODE END 3 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿æ¥å¼€å‘æ¿åç‚¹å‡»RUNå›¾æ ‡</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="./RUN.png" class="lazyload placeholder" data-srcset="./RUN.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="RUN"/></div><span class="image-caption">RUN</span></div><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="./successfully.png" class="lazyload placeholder" data-srcset="./successfully.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="successfully"/></div><span class="image-caption">successfully</span></div>]]></content>
      
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°ç¨‹åºå±€åŸŸç½‘æ§åˆ¶ESP32ï¼ˆç‰©è”ç½‘èŠ¯ç‰‡ï¼‰</title>
      <link href="2020/12/16/xiao_cheng_xu_kong_zhi_esp32/xiao_cheng_xu_ju_yu_wang_kong_zhi_esp32_wu_lian_wang_xin_pian/"/>
      <url>2020/12/16/xiao_cheng_xu_kong_zhi_esp32/xiao_cheng_xu_ju_yu_wang_kong_zhi_esp32_wu_lian_wang_xin_pian/</url>
      
        <content type="html"><![CDATA[<h2 id="å¾®ä¿¡å°ç¨‹åº"><a href="#å¾®ä¿¡å°ç¨‹åº" class="headerlink" title="å¾®ä¿¡å°ç¨‹åº"></a>å¾®ä¿¡å°ç¨‹åº</h2><!-- ä»£ç Giteeä»“åº“ --><p>ä½“éªŒç‰ˆäºŒç»´ç ã€‚<br><img src="https://7.dusays.com/2020/12/16/46f7f2a73970e.jpg" class="lazyload placeholder" data-srcset="https://7.dusays.com/2020/12/16/46f7f2a73970e.jpg" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="ä½“éªŒç‰ˆäºŒç»´ç "><br>çº¿ä¸Šç‰ˆäºŒç»´ç ã€‚</p><div class="img-wrap"><div class="img-bg" style="background:#f4f4f4"><img class="img lazyload placeholder" src="./wechar.jpg" class="lazyload placeholder" data-srcset="./wechar.jpg" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="çº¿ä¸Šç‰ˆäºŒç»´ç " style="width:200px;"/></div><span class="image-caption">çº¿ä¸Šç‰ˆäºŒç»´ç </span></div><p><img src="./wechar.jpg" class="lazyload placeholder" data-srcset="./wechar.jpg" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="jpg"></p><p><a target="_blank" rel="noopener" href="https://gitee.com/HP-L/esp32_-we-char_-connect">https://gitee.com/HP-L/esp32_-we-char_-connect</a></p><h2 id="ESP32-ä»£ç "><a href="#ESP32-ä»£ç " class="headerlink" title="ESP32 ä»£ç "></a>ESP32 ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> machine <span class="keyword">import</span> Timer,Pin,RTC <span class="comment">#è°ƒç”¨GPIOå£è°ƒç”¨å®šæ—¶å™¨åº“</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">from</span> emp_wifi <span class="keyword">import</span> Wifi</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> esp32</span><br><span class="line"><span class="keyword">import</span> usocket</span><br><span class="line"><span class="comment"># from machine import Pin, SPI, UART,I2C</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># çˆ¬è™«ä½¿ç”¨åº“</span></span><br><span class="line"><span class="keyword">import</span> socket,re,sys,os</span><br><span class="line"><span class="keyword">import</span> urequests <span class="keyword">as</span> request</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">hea = &#123;<span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.118 Safari/537.36&#x27;</span>&#125;</span><br><span class="line">rtc = RTC()</span><br><span class="line"></span><br><span class="line">port = <span class="number">10000</span>  <span class="comment">#ç«¯å£å·</span></span><br><span class="line">listenSocket = <span class="literal">None</span>  <span class="comment">#å¥—æ¥å­—</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> network</span><br><span class="line">wifi = network.WLAN(network.STA_IF)</span><br><span class="line">wifi.active(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">A = Pin(<span class="number">17</span>, Pin.OUT, value=<span class="number">0</span>)</span><br><span class="line">B = Pin(<span class="number">12</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">C = Pin(<span class="number">14</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">D = Pin(<span class="number">27</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">E = Pin(<span class="number">26</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">F = Pin(<span class="number">25</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">G = Pin(<span class="number">33</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># çˆ¬æ—¶é—´</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_time_pa</span>():</span></span><br><span class="line">    time_api_url = <span class="string">&quot;&quot;&quot;http://quan.suning.com/getSysTime.do&quot;&quot;&quot;</span></span><br><span class="line">    r = request.get(time_api_url, headers = hea)</span><br><span class="line">    content = r.text</span><br><span class="line">    print(<span class="string">&#x27;çˆ¬å–æ—¶é—´...&#x27;</span>)</span><br><span class="line">    time = re.search(</span><br><span class="line">        <span class="string">r&#x27;&#123;&quot;sysTime2&quot;:&quot;(.*?)-(.*?)-(.*?) (.*?):(.*?):(.*?)&quot;,&quot;sysTime1&quot;:&quot;&#x27;</span>, content</span><br><span class="line">        )</span><br><span class="line">    print(r.text[<span class="number">13</span>:<span class="number">29</span>])</span><br><span class="line">    print(<span class="built_in">int</span>(r.text[<span class="number">27</span>:<span class="number">29</span>]))</span><br><span class="line">    print(<span class="built_in">int</span>(r.text[<span class="number">23</span>:<span class="number">26</span>]))</span><br><span class="line">    mm = <span class="built_in">int</span>(r.text[<span class="number">27</span>:<span class="number">29</span>])<span class="comment"># åˆ†é’Ÿ</span></span><br><span class="line">    hh = <span class="built_in">int</span>(r.text[<span class="number">23</span>:<span class="number">26</span>])<span class="comment"># å°æ—¶</span></span><br><span class="line">    rtc = RTC()</span><br><span class="line">    time_date = rtc.datetime()</span><br><span class="line">    print(<span class="string">&#x27;é‡ç½®æ—¶é—´ï¼&#x27;</span>)</span><br><span class="line">    rtc.datetime((time_date[<span class="number">0</span>], time_date[<span class="number">1</span>], time_date[<span class="number">2</span>], time_date[<span class="number">3</span>], hh, mm, time_date[<span class="number">6</span>], time_date[<span class="number">7</span>]))</span><br><span class="line">    rtc.datetime()</span><br><span class="line"></span><br><span class="line"><span class="comment">#è‡ªåŠ¨è”ç½‘</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wifi_connect</span>():</span></span><br><span class="line">  wifi_led=Pin(<span class="number">12</span>,Pin.OUT)             <span class="comment"># æ¿è½½æŒ‡ç¤ºç¯åˆå§‹åŒ–    MODE1å·¦è¾¹</span></span><br><span class="line">  wlan = network.WLAN(network.STA_IF)  <span class="comment"># ä»¥å·¥ä½œç«™ (wlan) æ¨¡å¼è¿è¡Œï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªå·¥ä½œç«™Wi-Fiæ¥å£çš„å®ä¾‹</span></span><br><span class="line">  wlan.active(<span class="literal">True</span>)                    <span class="comment"># åœ¨å·¥ä½œç«™å¯¹è±¡ä¸Šè°ƒç”¨æ¿€æ´»æ–¹æ³•å¹¶ä»¥Trueä½œä¸ºè¾“å…¥å€¼ä¼ é€’æ¥æ¿€æ´»ç½‘ç»œæ¥å£</span></span><br><span class="line">  start_time=time.time()               <span class="comment"># è®°å½•å¼€å§‹æ—¶é—´</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> wlan.isconnected():              <span class="comment"># å¦‚æœå°šæœªè”ç½‘æˆåŠŸ</span></span><br><span class="line">    print(<span class="string">&quot;å½“å‰æ— çº¿æœªè”ç½‘ï¼Œæ­£åœ¨è¿æ¥ä¸­....&quot;</span>)</span><br><span class="line"><span class="comment">#     wlan.connect(&quot;WiFiåç§°&quot;, &quot;å¯†ç &quot;)   # æ— çº¿ç½‘SSIDã€å¯†ç ï¼Œå¼€å§‹è”ç½‘</span></span><br><span class="line">    wlan.connect(<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>)   <span class="comment"># æ— çº¿ç½‘SSIDã€å¯†ç ï¼Œå¼€å§‹è”ç½‘</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> wlan.isconnected():         <span class="comment"># å¦‚æœè¿˜æœªè¿æ¥æˆåŠŸï¼Œåˆ™LEDç¯é—ªçƒæç¤º</span></span><br><span class="line">      wifi_led.value(<span class="number">1</span>)</span><br><span class="line">      time.sleep_ms(<span class="number">1000</span>)</span><br><span class="line">      wifi_led.value(<span class="number">1</span>)</span><br><span class="line">      time.sleep_ms(<span class="number">1000</span>)</span><br><span class="line">      print(<span class="string">&quot;æ­£åœ¨å°è¯•è¿æ¥åˆ°wifi....&quot;</span>)</span><br><span class="line">      print(time.time())</span><br><span class="line">      <span class="keyword">if</span> time.time()-start_time&gt;<span class="number">15</span>:       <span class="comment"># å¦‚æœè¶…è¿‡15ç§’è¿˜ä¸è¡Œï¼Œå°±é€€å‡º</span></span><br><span class="line">        print(<span class="string">&quot;è¿æ¥å¤±è´¥!!!æ— çº¿ç½‘è¿æ¥è¶…è¿‡15ç§’ï¼Œè¯·æ£€æŸ¥æ— çº¿ç½‘åç§°å’Œå¯†ç æ˜¯å¦æ­£ç¡®..&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> wlan.isconnected():                  <span class="comment"># å¦‚æœè”æ¥æˆåŠŸ</span></span><br><span class="line">    wifi_led.value(<span class="number">1</span>)                     <span class="comment"># LEDç¯å¸¸äº®</span></span><br><span class="line">    IP_info=wlan.ifconfig()</span><br><span class="line">    print(<span class="string">&quot;##################################################&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;æ— çº¿ç½‘å·²ç»è¿æ¥ï¼Œä¿¡æ¯å¦‚ä¸‹ï¼š&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;IPåœ°å€ï¼š&quot;</span>+IP_info[<span class="number">0</span>])</span><br><span class="line">    print(<span class="string">&quot;å­ç½‘æ©ç ï¼š&quot;</span>+IP_info[<span class="number">1</span>])</span><br><span class="line">    print(<span class="string">&quot;ç½‘å…³ï¼š&quot;</span>+IP_info[<span class="number">2</span>])</span><br><span class="line">    print(<span class="string">&quot;DNSï¼š&quot;</span>+IP_info[<span class="number">3</span>])</span><br><span class="line">    print(<span class="string">&quot;##################################################&quot;</span>)</span><br><span class="line">    get_time_pa()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–èŠ¯ç‰‡æ¸©åº¦</span></span><br><span class="line"><span class="comment"># def wendu():</span></span><br><span class="line"><span class="comment">#     f = esp32.raw_temperature()</span></span><br><span class="line"><span class="comment">#     c = (f-32)/1.8</span></span><br><span class="line"><span class="comment">#     print(c)</span></span><br><span class="line"><span class="comment">#     oled.text(&quot;IC:&quot; + str(int(c)),20,0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿œç¨‹è¿æ¥ä¼ è¾“å‘½ä»¤å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">connect_to_phone</span>():</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        ip = Wifi.ifconfig()[<span class="number">0</span>][<span class="number">0</span>]   <span class="comment">#è·å–IPåœ°å€</span></span><br><span class="line">        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)   <span class="comment">#è®¾ç½®å¥—æ¥å­—</span></span><br><span class="line">        sockaddr = socket.getaddrinfo(ip, port)</span><br><span class="line">        print(sockaddr[<span class="number">0</span>][<span class="number">4</span>])</span><br><span class="line">        s.bind(sockaddr[<span class="number">0</span>][<span class="number">4</span>])</span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&#x27;tcp waiting...&#x27;</span>)</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            data, addr = s.recvfrom(<span class="number">1024</span>)</span><br><span class="line">            print(<span class="string">&#x27;From %s %s&#x27;</span> % addr)</span><br><span class="line">            print(<span class="string">&#x27;data is %s&#x27;</span> % data)</span><br><span class="line">            data_utf8 = <span class="built_in">bytes</span>.decode(data)</span><br><span class="line">            print(data_utf8)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_1_on&quot;</span>:</span><br><span class="line">                B.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_2_on&quot;</span>:</span><br><span class="line">                C.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_1_off&quot;</span>:</span><br><span class="line">                B.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_2_off&quot;</span>:</span><br><span class="line">                C.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_3_on&quot;</span>:</span><br><span class="line">                D.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_4_on&quot;</span>:</span><br><span class="line">                E.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_3_off&quot;</span>:</span><br><span class="line">                D.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_4_off&quot;</span>:</span><br><span class="line">                E.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_5_on&quot;</span>:</span><br><span class="line">                F.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_6_on&quot;</span>:</span><br><span class="line">                G.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_5_off&quot;</span>:</span><br><span class="line">                F.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_6_off&quot;</span>:</span><br><span class="line">                G.value(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">if</span>(listenSocket):   <span class="comment">#åˆ¤æ–­å¥—æ¥å­—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">            listenSocket.close()   <span class="comment">#å…³é—­å¥—æ¥å­—</span></span><br><span class="line"></span><br><span class="line">wifi_connect()</span><br><span class="line">connect_to_phone()</span><br></pre></td></tr></table></figure><p>æœ¬ç¨‹åºå¯è¿æ¥ OLED1306 ä¹Ÿå¯ä¸è¿æ¥ OLED1306ï¼Œä¸ä¼šå› ä¸ºæœªè¿æ¥æ˜¾ç¤ºå±æŠ¥é”™ã€‚<br>å¯ç›´æ¥å°† OLED1306 ä¸ ESP32 è¿æ¥ï¼Œè‹¥ä¸æ˜¾ç¤ºï¼ŒåŸå› å¯èƒ½æ˜¯æ¥çº¿ä¸ç¨³ï¼Œæ¥è§¦ä¸è‰¯ã€‚<br>æ³¨æ„ï¼šæœ¬ç¨‹åºä½¿ç”¨çš„æ—¶ I2C é€šè®¯ï¼ï¼ï¼ç¡¬ä»¶è¿æ¥æ—¶ï¼ŒI2Cå¿…é¡»æ¥ä¸Šé«˜ç”µå¹³ï¼Œä¸‹é¢ç¨‹åºæ˜¯æ–¹ä¾¿é¢åŒ…æ¿ä½¿ç”¨è€…ä½¿ç”¨çš„ç¨‹åºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> machine <span class="keyword">import</span> Timer,Pin,RTC <span class="comment">#è°ƒç”¨GPIOå£è°ƒç”¨å®šæ—¶å™¨åº“</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">from</span> emp_wifi <span class="keyword">import</span> Wifi</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> esp32</span><br><span class="line"><span class="keyword">import</span> usocket</span><br><span class="line"></span><br><span class="line"><span class="comment"># çˆ¬è™«ä½¿ç”¨åº“</span></span><br><span class="line"><span class="keyword">import</span> socket,re,sys,os</span><br><span class="line"><span class="keyword">import</span> urequests <span class="keyword">as</span> request</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå±ä½¿ç”¨åº“</span></span><br><span class="line"><span class="keyword">import</span> machine, ssd1306, gfx</span><br><span class="line"></span><br><span class="line">hea = &#123;<span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.118 Safari/537.36&#x27;</span>&#125;</span><br><span class="line">rtc = RTC()</span><br><span class="line"></span><br><span class="line">port = <span class="number">10000</span>  <span class="comment">#ç«¯å£å·</span></span><br><span class="line">listenSocket = <span class="literal">None</span>  <span class="comment">#å¥—æ¥å­—</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> network</span><br><span class="line"></span><br><span class="line">WIFI = Pin(<span class="number">17</span>, Pin.OUT, value=<span class="number">0</span>)</span><br><span class="line">LED_1 = Pin(<span class="number">12</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">LED_2 = Pin(<span class="number">14</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">LED_3 = Pin(<span class="number">27</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">LED_4 = Pin(<span class="number">26</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">LED_5 = Pin(<span class="number">25</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">LED_6 = Pin(<span class="number">33</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">LED_7 = Pin(<span class="number">32</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line">L3 = Pin(<span class="number">13</span>, Pin.OUT, value=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># çˆ¬æ—¶é—´</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_time_pa</span>():</span></span><br><span class="line">    time_api_url = <span class="string">&quot;&quot;&quot;http://quan.suning.com/getSysTime.do&quot;&quot;&quot;</span></span><br><span class="line">    r = request.get(time_api_url, headers = hea)</span><br><span class="line">    content = r.text</span><br><span class="line">    print(<span class="string">&#x27;çˆ¬å–æ—¶é—´...&#x27;</span>)</span><br><span class="line">    time = re.search(</span><br><span class="line">        <span class="string">r&#x27;&#123;&quot;sysTime2&quot;:&quot;(.*?)-(.*?)-(.*?) (.*?):(.*?):(.*?)&quot;,&quot;sysTime1&quot;:&quot;&#x27;</span>, content</span><br><span class="line">        )</span><br><span class="line">    print(r.text[<span class="number">13</span>:<span class="number">29</span>])</span><br><span class="line">    print(<span class="built_in">int</span>(r.text[<span class="number">27</span>:<span class="number">29</span>]))</span><br><span class="line">    print(<span class="built_in">int</span>(r.text[<span class="number">23</span>:<span class="number">26</span>]))</span><br><span class="line">    mm = <span class="built_in">int</span>(r.text[<span class="number">27</span>:<span class="number">29</span>])<span class="comment"># åˆ†é’Ÿ</span></span><br><span class="line">    hh = <span class="built_in">int</span>(r.text[<span class="number">23</span>:<span class="number">26</span>])<span class="comment"># å°æ—¶</span></span><br><span class="line">    rtc = RTC()</span><br><span class="line">    time_date = rtc.datetime()</span><br><span class="line">    print(<span class="string">&#x27;é‡ç½®æ—¶é—´ï¼&#x27;</span>)</span><br><span class="line">    rtc.datetime((time_date[<span class="number">0</span>], time_date[<span class="number">1</span>], time_date[<span class="number">2</span>], time_date[<span class="number">3</span>], hh, mm, time_date[<span class="number">6</span>], time_date[<span class="number">7</span>]))</span><br><span class="line">    rtc.datetime()</span><br><span class="line"></span><br><span class="line"><span class="comment">#è‡ªåŠ¨è”ç½‘</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wifi_connect</span>():</span></span><br><span class="line">  wifi_led=Pin(<span class="number">23</span>,Pin.OUT)             <span class="comment"># æ¿è½½æŒ‡ç¤ºç¯åˆå§‹åŒ–    MODE1å·¦è¾¹</span></span><br><span class="line">  wlan = network.WLAN(network.STA_IF)  <span class="comment"># ä»¥å·¥ä½œç«™ (wlan) æ¨¡å¼è¿è¡Œï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªå·¥ä½œç«™Wi-Fiæ¥å£çš„å®ä¾‹</span></span><br><span class="line">  wlan.active(<span class="literal">True</span>)                    <span class="comment"># åœ¨å·¥ä½œç«™å¯¹è±¡ä¸Šè°ƒç”¨æ¿€æ´»æ–¹æ³•å¹¶ä»¥Trueä½œä¸ºè¾“å…¥å€¼ä¼ é€’æ¥æ¿€æ´»ç½‘ç»œæ¥å£</span></span><br><span class="line">  start_time=time.time()               <span class="comment"># è®°å½•å¼€å§‹æ—¶é—´</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> wlan.isconnected():              <span class="comment"># å¦‚æœå°šæœªè”ç½‘æˆåŠŸ</span></span><br><span class="line">    print(<span class="string">&quot;å½“å‰æ— çº¿æœªè”ç½‘ï¼Œæ­£åœ¨è¿æ¥ä¸­....&quot;</span>)</span><br><span class="line">    wlan.connect(<span class="string">&#x27;***&#x27;</span>,<span class="string">&#x27;***&#x27;</span>)   <span class="comment"># æ— çº¿ç½‘SSIDã€å¯†ç ï¼Œå¼€å§‹è”ç½‘</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> wlan.isconnected():         <span class="comment"># å¦‚æœè¿˜æœªè¿æ¥æˆåŠŸï¼Œåˆ™LEDç¯é—ªçƒæç¤º</span></span><br><span class="line">      wifi_led.value(<span class="number">0</span>)</span><br><span class="line">      time.sleep_ms(<span class="number">1000</span>)</span><br><span class="line">      wifi_led.value(<span class="number">0</span>)</span><br><span class="line">      time.sleep_ms(<span class="number">1000</span>)</span><br><span class="line">      print(<span class="string">&quot;æ­£åœ¨å°è¯•è¿æ¥åˆ°wifi....&quot;</span>)</span><br><span class="line">      print(time.time())</span><br><span class="line">      <span class="keyword">if</span> time.time()-start_time&gt;<span class="number">15</span>:       <span class="comment"># å¦‚æœè¶…è¿‡15ç§’è¿˜ä¸è¡Œï¼Œå°±é€€å‡º</span></span><br><span class="line">        print(<span class="string">&quot;è¿æ¥å¤±è´¥!!!æ— çº¿ç½‘è¿æ¥è¶…è¿‡15ç§’ï¼Œè¯·æ£€æŸ¥æ— çº¿ç½‘åç§°å’Œå¯†ç æ˜¯å¦æ­£ç¡®..&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> wlan.isconnected():                  <span class="comment"># å¦‚æœè”æ¥æˆåŠŸ</span></span><br><span class="line">    wifi_led.value(<span class="number">0</span>)                     <span class="comment"># LEDç¯å¸¸äº®</span></span><br><span class="line">    IP_info=wlan.ifconfig()</span><br><span class="line">    print(<span class="string">&quot;##################################################&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;æ— çº¿ç½‘å·²ç»è¿æ¥ï¼Œä¿¡æ¯å¦‚ä¸‹ï¼š&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;IPåœ°å€ï¼š&quot;</span>+IP_info[<span class="number">0</span>])</span><br><span class="line">    print(<span class="string">&quot;å­ç½‘æ©ç ï¼š&quot;</span>+IP_info[<span class="number">1</span>])</span><br><span class="line">    print(<span class="string">&quot;ç½‘å…³ï¼š&quot;</span>+IP_info[<span class="number">2</span>])</span><br><span class="line">    print(<span class="string">&quot;DNSï¼š&quot;</span>+IP_info[<span class="number">3</span>])</span><br><span class="line">    print(<span class="string">&quot;##################################################&quot;</span>)</span><br><span class="line"><span class="comment">#     get_time_pa()</span></span><br><span class="line"></span><br><span class="line">oled_str1=<span class="string">&#x27;&#x27;</span></span><br><span class="line">oled_str2=<span class="string">&#x27;&#x27;</span></span><br><span class="line">oled_str3=<span class="string">&#x27;&#x27;</span></span><br><span class="line">oled_str4=<span class="string">&#x27;&#x27;</span></span><br><span class="line">oled_str5=<span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">oled_process</span>(<span class="params">str1,ip,oled,graphics</span>):</span></span><br><span class="line"><span class="comment">#     i2c = machine.I2C(scl=machine.Pin(18), sda=machine.Pin(19))</span></span><br><span class="line"><span class="comment">#     oled = ssd1306.SSD1306_I2C(128 ,64 ,i2c)</span></span><br><span class="line"><span class="comment">#     graphics = gfx.GFX(128, 64, oled.pixel)</span></span><br><span class="line">    <span class="keyword">global</span> oled_str1</span><br><span class="line">    <span class="keyword">global</span> oled_str2</span><br><span class="line">    <span class="keyword">global</span> oled_str3</span><br><span class="line">    <span class="keyword">global</span> oled_str4</span><br><span class="line">    <span class="keyword">global</span> oled_str5</span><br><span class="line">    oled_str1=oled_str2</span><br><span class="line">    oled_str2=oled_str3</span><br><span class="line">    oled_str3=oled_str4</span><br><span class="line">    oled_str4=oled_str5</span><br><span class="line">    oled_str5=str1</span><br><span class="line">    oled.fill(<span class="number">0</span>)</span><br><span class="line">    graphics._slow_vline(<span class="number">0</span>, <span class="number">0</span>, <span class="number">64</span>, <span class="number">1</span>)</span><br><span class="line">    graphics._slow_vline(<span class="number">127</span>, <span class="number">0</span>, <span class="number">128</span>, <span class="number">1</span>)</span><br><span class="line">    graphics._slow_hline(<span class="number">0</span>, <span class="number">15</span>, <span class="number">128</span>, <span class="number">1</span>)</span><br><span class="line">    graphics._slow_hline(<span class="number">0</span>, <span class="number">16</span>, <span class="number">128</span>, <span class="number">1</span>)</span><br><span class="line">    graphics._slow_hline(<span class="number">0</span>, <span class="number">0</span>, <span class="number">128</span>, <span class="number">1</span>)</span><br><span class="line">    graphics._slow_hline(<span class="number">0</span>, <span class="number">63</span>, <span class="number">128</span>, <span class="number">1</span>)</span><br><span class="line">    oled.text(<span class="string">&quot;port:10000 &amp; ip&quot;</span>,<span class="number">0</span>+<span class="number">2</span>,<span class="number">0</span>)</span><br><span class="line">    oled.text(ip,<span class="number">0</span>+<span class="number">2</span>,<span class="number">8</span>)</span><br><span class="line">    oled.text(oled_str5,<span class="number">0</span>+<span class="number">2</span>,<span class="number">16</span>+<span class="number">2</span>)</span><br><span class="line">    oled.text(oled_str4,<span class="number">0</span>+<span class="number">2</span>,<span class="number">24</span>+<span class="number">2</span>)</span><br><span class="line">    oled.text(oled_str3,<span class="number">0</span>+<span class="number">2</span>,<span class="number">32</span>+<span class="number">2</span>)</span><br><span class="line">    oled.text(oled_str2,<span class="number">0</span>+<span class="number">2</span>,<span class="number">40</span>+<span class="number">2</span>)</span><br><span class="line">    oled.text(oled_str1,<span class="number">0</span>+<span class="number">2</span>,<span class="number">48</span>+<span class="number">2</span>)</span><br><span class="line">    oled.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå±ä»£ç </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">oled_try</span>():</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        i2c = machine.I2C(scl=machine.Pin(<span class="number">18</span>), sda=machine.Pin(<span class="number">19</span>))</span><br><span class="line">        oled = ssd1306.SSD1306_I2C(<span class="number">128</span> ,<span class="number">64</span> ,i2c)</span><br><span class="line">        graphics = gfx.GFX(<span class="number">128</span>, <span class="number">64</span>, oled.pixel)</span><br><span class="line">        print(<span class="string">&quot;get&quot;</span>)</span><br><span class="line">        connect_to_phone_oled(oled,graphics)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        print(<span class="string">&quot;false&quot;</span>)</span><br><span class="line">        connect_to_phone()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–èŠ¯ç‰‡æ¸©åº¦</span></span><br><span class="line"><span class="comment"># def wendu():</span></span><br><span class="line"><span class="comment">#     f = esp32.raw_temperature()</span></span><br><span class="line"><span class="comment">#     c = (f-32)/1.8</span></span><br><span class="line"><span class="comment">#     print(c)</span></span><br><span class="line"><span class="comment">#     oled.text(&quot;IC:&quot; + str(int(c)),20,0)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">connect_to_phone_oled</span>(<span class="params">oled,graphics</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        ip = Wifi.ifconfig()[<span class="number">0</span>][<span class="number">0</span>]   <span class="comment">#è·å–IPåœ°å€</span></span><br><span class="line">        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)   <span class="comment">#è®¾ç½®å¥—æ¥å­—</span></span><br><span class="line">        sockaddr = socket.getaddrinfo(ip, port)</span><br><span class="line">        print(sockaddr[<span class="number">0</span>][<span class="number">4</span>])</span><br><span class="line">        s.bind(sockaddr[<span class="number">0</span>][<span class="number">4</span>])</span><br><span class="line">        oled_process(sockaddr[<span class="number">0</span>][<span class="number">4</span>][<span class="number">0</span>],sockaddr[<span class="number">0</span>][<span class="number">4</span>][<span class="number">0</span>],oled,graphics)</span><br><span class="line">        print(<span class="string">&quot;oled&quot;</span>)</span><br><span class="line">        print(<span class="string">&#x27;tcp waiting...&#x27;</span>)</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            data, addr = s.recvfrom(<span class="number">1024</span>)</span><br><span class="line">            print(<span class="string">&#x27;From %s %s&#x27;</span> % addr)</span><br><span class="line">            print(<span class="string">&#x27;data is %s&#x27;</span> % data)</span><br><span class="line">            data_utf8 = <span class="built_in">bytes</span>.decode(data)</span><br><span class="line">            oled_process(data_utf8,sockaddr[<span class="number">0</span>][<span class="number">4</span>][<span class="number">0</span>],oled,graphics)</span><br><span class="line">            data_size = s.sendto(data, addr)</span><br><span class="line">    <span class="comment">#             print(&#x27;From %s %s&#x27; % data_utf8)</span></span><br><span class="line">    <span class="comment">#             print(&#x27;data is %s&#x27; % data_utf8)</span></span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_1_on&quot;</span>:</span><br><span class="line">                LED_1.value(<span class="number">0</span>)</span><br><span class="line"><span class="comment">#                 data_size = s.sendto(&quot;led_1_on&quot;, addr)</span></span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_2_on&quot;</span>:</span><br><span class="line">                LED_2.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_1_off&quot;</span>:</span><br><span class="line">                LED_1.value(<span class="number">1</span>)</span><br><span class="line"><span class="comment">#                 data_size = s.sendto(&quot;led_1_off&quot;, addr)</span></span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_2_off&quot;</span>:</span><br><span class="line">                LED_2.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_3_on&quot;</span>:</span><br><span class="line">                LED_3.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_4_on&quot;</span>:</span><br><span class="line">                LED_4.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_3_off&quot;</span>:</span><br><span class="line">                LED_3.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_4_off&quot;</span>:</span><br><span class="line">                LED_4.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_5_on&quot;</span>:</span><br><span class="line">                LED_5.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_6_on&quot;</span>:</span><br><span class="line">                LED_6.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_5_off&quot;</span>:</span><br><span class="line">                LED_5.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_6_off&quot;</span>:</span><br><span class="line">                LED_6.value(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_7_on&quot;</span>:</span><br><span class="line">                LED_7.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_7_off&quot;</span>:</span><br><span class="line">                LED_7.value(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">if</span>(listenSocket):   <span class="comment">#åˆ¤æ–­å¥—æ¥å­—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">            listenSocket.close()   <span class="comment">#å…³é—­å¥—æ¥å­—</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">connect_to_phone</span>():</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        ip = Wifi.ifconfig()[<span class="number">0</span>][<span class="number">0</span>]   <span class="comment">#è·å–IPåœ°å€</span></span><br><span class="line">        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)   <span class="comment">#è®¾ç½®å¥—æ¥å­—</span></span><br><span class="line">        sockaddr = socket.getaddrinfo(ip, port)</span><br><span class="line">        print(sockaddr[<span class="number">0</span>][<span class="number">4</span>])</span><br><span class="line">        s.bind(sockaddr[<span class="number">0</span>][<span class="number">4</span>])</span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&#x27;tcp waiting...&#x27;</span>)</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            data, addr = s.recvfrom(<span class="number">1024</span>)</span><br><span class="line">            print(<span class="string">&#x27;From %s %s&#x27;</span> % addr)</span><br><span class="line">            print(<span class="string">&#x27;data is %s&#x27;</span> % data)</span><br><span class="line">            data_utf8 = <span class="built_in">bytes</span>.decode(data)</span><br><span class="line"><span class="comment">#             print(&#x27;From %s %s&#x27; % data_utf8)</span></span><br><span class="line"><span class="comment">#             print(&#x27;data is %s&#x27; % data_utf8)</span></span><br><span class="line">            data_size = s.sendto(data, addr)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_1_on&quot;</span>:</span><br><span class="line">                LED_1.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_2_on&quot;</span>:</span><br><span class="line">                LED_2.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_1_off&quot;</span>:</span><br><span class="line">                LED_1.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_2_off&quot;</span>:</span><br><span class="line">                LED_2.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_3_on&quot;</span>:</span><br><span class="line">                LED_3.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_4_on&quot;</span>:</span><br><span class="line">                LED_4.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_3_off&quot;</span>:</span><br><span class="line">                LED_3.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_4_off&quot;</span>:</span><br><span class="line">                LED_4.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_5_on&quot;</span>:</span><br><span class="line">                LED_5.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_6_on&quot;</span>:</span><br><span class="line">                LED_6.value(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_5_off&quot;</span>:</span><br><span class="line">                LED_5.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_6_off&quot;</span>:</span><br><span class="line">                LED_6.value(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_7_on&quot;</span>:</span><br><span class="line">                LED_7.value(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> data_utf8 == <span class="string">&quot;led_7_off&quot;</span>:</span><br><span class="line">                LED_7.value(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">if</span>(listenSocket):   <span class="comment">#åˆ¤æ–­å¥—æ¥å­—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">            listenSocket.close()   <span class="comment">#å…³é—­å¥—æ¥å­—</span></span><br><span class="line"></span><br><span class="line">wifi_connect()</span><br><span class="line">oled_try()</span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•è§†å±"><a href="#æµ‹è¯•è§†å±" class="headerlink" title="æµ‹è¯•è§†å±"></a>æµ‹è¯•è§†å±</h2><iframe height=520 width=776  src="//player.bilibili.com/player.html?aid=798143285&bvid=BV1Ay4y1D7T9&cid=269108454&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="max-width: 100%, text-align: center" > </iframe>]]></content>
      
      
      
        <tags>
            
            <tag> ESP32 </tag>
            
            <tag> ç‰©è”ç½‘ </tag>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°</title>
      <link href="2020/12/12/wei_xin_xiao_cheng_xu_1/wei_xin_xiao_cheng_xu_xue_xi_bi_ji/"/>
      <url>2020/12/12/wei_xin_xiao_cheng_xu_1/wei_xin_xiao_cheng_xu_xue_xi_bi_ji/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼€å‘æ–‡æ¡£é“¾æ¥"><a href="#å¼€å‘æ–‡æ¡£é“¾æ¥" class="headerlink" title="å¼€å‘æ–‡æ¡£é“¾æ¥"></a>å¼€å‘æ–‡æ¡£é“¾æ¥</h2><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/">å¾®ä¿¡å®˜æ–¹æ–‡æ¡£</a></p><h2 id="æ–‡ä»¶"><a href="#æ–‡ä»¶" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h2><p>å…¨å±€æ–‡ä»¶ï¼š</p><ul><li>app.js å…¨å±€ js æ–‡ä»¶ï¼šjs ä»£ç å…¨å±€å¯ä»¥è°ƒç”¨</li><li>app.json å…¨å±€é…ç½®æ–‡ä»¶ï¼šå¯¼èˆªæ ï¼ŒèƒŒæ™¯é¢œè‰²ï¼Œæ ‡é¢˜ï¼Œçª—å£é…ç½®</li><li>app.wxss å…¨å±€æ ·å¼æ–‡ä»¶ï¼šç»Ÿä¸€æ ·å¼</li><li>utils æ–‡ä»¶å¤¹ï¼šå°è£…è‡ªå®šä¹‰çš„å·¥å…·</li><li>pages å°ç¨‹åºé¡µé¢æ–‡ä»¶å¤¹ï¼šæ‰€æœ‰çš„é¡µé¢éƒ½åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ç®¡ç†ï¼Œpages æ–‡ä»¶å¤¹ä¸­ï¼Œä¸€ä¸ªæ–‡ä»¶å¤¹ä»£è¡¨ä¸€ä¸ªé¡µé¢ã€‚</li></ul><p>å±€éƒ¨æ–‡ä»¶ï¼šä¸€ä¸ªé¡µé¢çš„æ–‡ä»¶</p><ul><li>wxml</li><li>wxss</li><li>js</li><li>json</li></ul><h3 id="app-json"><a href="#app-json" class="headerlink" title="app.json"></a>app.json</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;pages&quot;</span>: [<span class="string">&quot;pages/index/index&quot;</span>, <span class="string">&quot;pages/logs/logs&quot;</span>], <span class="comment">//é¡µé¢ç®¡ç†</span></span><br><span class="line">  <span class="attr">&quot;window&quot;</span>: &#123;</span><br><span class="line">    <span class="comment">//çª—å£ç•Œé¢</span></span><br><span class="line">    <span class="attr">&quot;backgroundTextStyle&quot;</span>: <span class="string">&quot;light&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;navigationBarBackgroundColor&quot;</span>: <span class="string">&quot;#fff&quot;</span>, <span class="comment">//å¯¼èˆªæ é¢œè‰²</span></span><br><span class="line">    <span class="attr">&quot;navigationBarTitleText&quot;</span>: <span class="string">&quot;Weixin&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;navigationBarTextStyle&quot;</span>: <span class="string">&quot;black&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;style&quot;</span>: <span class="string">&quot;v2&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;sitemapLocation&quot;</span>: <span class="string">&quot;sitemap.json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‹¥è¦æ·»åŠ é¡µé¢æˆ–è€…ç›´æ¥åœ¨<code>&quot;pages&quot;: [&quot;pages/index/index&quot;, &quot;pages/logs/logs&quot;]</code>ä¸­æ·»åŠ ï¼ŒIDE ä¼šç›´æ¥ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹åŠå†…éƒ¨é¡µé¢æ–‡ä»¶ã€‚</p><p>è‹¥åœ¨å…¨å±€é…ç½®ä¸­çª—å£ç•Œé¢é…ç½®äº†<code>&quot;navigationBarBackgroundColor&quot;: &quot;#fff&quot;</code>çš„åŒæ—¶ï¼Œåœ¨å•ä¸ªé¡µé¢(ä¾‹å¦‚ logo é¡µé¢)çš„é…ç½®æ–‡ä»¶ä¹Ÿé…ç½®äº†<code>&quot;navigationBarBackgroundColor&quot;: &quot;#000&quot;</code>ï¼Œè¿™æ˜¯åªæœ‰å½“è·³è½¬åˆ°(ä¾‹å¦‚ logo é¡µé¢)æ—¶ï¼Œå¯¼èˆªæ é¢œè‰²æ‰ä¼šå˜æˆ#000ã€‚</p><h3 id="å¾®ä¿¡å°ç¨‹åºä¸­çš„-js"><a href="#å¾®ä¿¡å°ç¨‹åºä¸­çš„-js" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¸­çš„ js"></a>å¾®ä¿¡å°ç¨‹åºä¸­çš„ js</h3><h4 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h4><p>js å˜é‡ï¼šç”¨äºå‚¨å­˜ä¿¡æ¯çš„å®¹å™¨<br>å£°æ˜æ—¶ä½¿ç”¨ var+å˜é‡åï¼Œå˜é‡ç±»å‹é€šè¿‡èµ‹å€¼æ¥å†³å®š<br>æ³¨æ„ï¼šå˜é‡å¿…é¡»ä¸€å­—æ¯å¼€å¤´ï¼Œä¹Ÿå¯ä»¥$å’Œ_å¼€å¤´ï¼Œå¤§å°å†™æ•æ„Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> answer = <span class="string">&quot;It&#x27;s alright&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> x1 = <span class="number">43.0</span>;</span><br><span class="line"><span class="keyword">var</span> x = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> cars = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">cars[<span class="number">0</span>] = <span class="string">&quot;Saab&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> cars = [<span class="string">&quot;saab&quot;</span>, <span class="string">&quot;Volor&quot;</span>];</span><br><span class="line"><span class="keyword">var</span> person = <span class="literal">null</span>; <span class="comment">//æ¸…ç©ºå˜é‡å†…å®¹</span></span><br><span class="line"><span class="keyword">var</span> carname; <span class="comment">//æ‰§è¡Œåå†…å®¹ä¸ºundefined</span></span><br></pre></td></tr></table></figure><h4 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  firstname: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  lastname: <span class="string">&quot;Doe&quot;</span>,</span><br><span class="line">  id: <span class="number">5566</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯¹è±¡å¯»å€æ–¹å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name = person.lastname;</span><br><span class="line">name = person[<span class="string">&quot;lastname&quot;</span>];</span><br></pre></td></tr></table></figure><h4 id="è¿ç®—"><a href="#è¿ç®—" class="headerlink" title="è¿ç®—"></a>è¿ç®—</h4><p><code>+</code>,<code>-</code>,<code>*</code>,<code>/</code>,<code>%</code><br>æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œè¿”å›å€¼å‡ä¸º<code>FALSE</code>&amp;<code>TRUE</code><br><img src="https://7.dusays.com/2020/12/13/44a7fad2ec4b3.png" class="lazyload placeholder" data-srcset="https://7.dusays.com/2020/12/13/44a7fad2ec4b3.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="æ¯”è¾ƒè¿ç®—ç¬¦"></p><p>é€»è¾‘è¿ç®—ç¬¦<br><code>&amp;&amp;</code>,<code>||</code>,<code>ï¼</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">y = <span class="number">5</span>;</span><br><span class="line">z = <span class="number">2</span>;</span><br><span class="line">x = y + z;</span><br><span class="line">txt1 = <span class="string">&quot;what a very&quot;</span>;</span><br><span class="line">txt2 = <span class="string">&quot;nice day&quot;</span>;</span><br><span class="line">txt3 = txt1 + txt2; <span class="comment">//æ­¤æ—¶txt3 = &quot;what a verynice day&quot;</span></span><br></pre></td></tr></table></figure><h4 id="æ¡ä»¶"><a href="#æ¡ä»¶" class="headerlink" title="æ¡ä»¶"></a>æ¡ä»¶</h4><h5 id="if"><a href="#if" class="headerlink" title="if"></a>if</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">  <span class="comment">//å½“conditionä¸ºtrueæ—¶ï¼Œæ‰æ‰§è¡Œä¸‹é¢è¯­å¥</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">  <span class="comment">//å½“conditionä¸ºtrueæ—¶ï¼Œæ‰æ‰§è¡Œä¸‹é¢è¯­å¥</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">//å¦åˆ™æ‰§è¡Œä¸‹é¢ä»£ç </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">  <span class="comment">//å½“conditionä¸ºtrueæ—¶ï¼Œæ‰æ‰§è¡Œä¸‹é¢è¯­å¥</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (condition1) &#123;</span><br><span class="line">  <span class="comment">//å¦åˆ™æ‰§è¡Œä¸‹é¢ä»£ç </span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">//å¦åˆ™æ‰§è¡Œä¸‹é¢ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h4><h5 id="for"><a href="#for" class="headerlink" title="for"></a>for</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (è¯­å¥<span class="number">1</span>; è¯­å¥<span class="number">2</span>; è¯­å¥<span class="number">3</span>) &#123;</span><br><span class="line">  <span class="comment">//è¢«æ‰§è¡Œçš„ä»£ç ï¼Œè¯­æ³•å’ŒCè¯­è¨€ç›¸ä¼¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">  x = x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å°ç¨‹åºä¸­è‡ªåŠ¨ç”Ÿæˆçš„-js-ä»£ç "><a href="#å°ç¨‹åºä¸­è‡ªåŠ¨ç”Ÿæˆçš„-js-ä»£ç " class="headerlink" title="å°ç¨‹åºä¸­è‡ªåŠ¨ç”Ÿæˆçš„ js ä»£ç "></a>å°ç¨‹åºä¸­è‡ªåŠ¨ç”Ÿæˆçš„ js ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/index/index.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * é¡µé¢çš„åˆå§‹æ•°æ®</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  data: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onReady: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢æ˜¾ç¤º</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onShow: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢éšè—</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onHide: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢å¸è½½</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onUnload: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°--ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onPullDownRefresh: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onReachBottom: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº«</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onShareAppMessage: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="page"><a href="#page" class="headerlink" title="page"></a>page</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  <span class="comment">//é¡µé¢å†…å®¹ï¼Œä¸å†™ä»»ä½•ä¸œè¥¿ä¹Ÿä¸ä¼šæŠ¥é”™</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h6 id="data-å’Œå‡½æ•°"><a href="#data-å’Œå‡½æ•°" class="headerlink" title="data å’Œå‡½æ•°"></a>data å’Œå‡½æ•°</h6><p>data å¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data:&#123;</span><br><span class="line">  msg:<span class="string">&#x27;hello!&#x27;</span>,</span><br><span class="line">  flag:<span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>function å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">å‚æ•°</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//å‡½æ•°å†…å®¹</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h5 id="å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå’Œå›æ‰å‡½æ•°"><a href="#å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå’Œå›æ‰å‡½æ•°" class="headerlink" title="å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå’Œå›æ‰å‡½æ•°"></a>å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå’Œå›æ‰å‡½æ•°</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">åŠ è½½</span><br><span class="line"> |</span><br><span class="line">æ¸²æŸ“</span><br><span class="line"> |</span><br><span class="line">æ˜¾ç¤º----&gt;éšè—</span><br><span class="line"> |       |</span><br><span class="line"> |       |</span><br><span class="line">å¸è½½&lt;----éšè—</span><br></pre></td></tr></table></figure><p>å½“ç¨‹åºè¿è¡Œåˆ°å„ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„èŠ‚ç‚¹æ—¶ï¼Œä¼šæ‰§è¡Œç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°</p><p>å›æ‰å‡½æ•°ï¼š</p><ul><li>onLoad() é¡µé¢åŠ è½½æ—¶è§¦å‘</li><li>onShow() é¡µé¢æ˜¾ç¤º/åˆ‡å…¥å‰å°è§¦å‘</li><li>onReady() é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆæ—¶è§¦å‘<br>è¿è¡Œå®Œä¸Šé¢æµç¨‹å³è¿›å…¥æ¿€æ´»çŠ¶æ€</li><li>onShow() é¡µé¢æ˜¾ç¤º/åˆ‡å…¥å‰å°è§¦å‘</li><li>onHide() é¡µé¢å½±è—/åˆ‡å…¥åå°è§¦å‘</li><li>onUnload() é¡µé¢å¸è½½æ—¶è§¦å‘</li><li>onPullDownRefresh() ä¸‹æ‹‰åˆ·æ–°</li><li>onReachBottom()ä¸Šæ‹‰è§¦åº•äº‹ä»¶</li><li>onShareAppMessage() è½¬å‘æŒ‰é’®ï¼Œè‡ªå®šä¹‰è½¬å‘å†…å®¹</li></ul><h5 id="äº‹ä»¶å“åº”"><a href="#äº‹ä»¶å“åº”" class="headerlink" title="äº‹ä»¶å“åº”"></a>äº‹ä»¶å“åº”</h5><p>äº‹ä»¶ï¼šè§†å›¾å±‚åˆ°é€»è¾‘å±‚çš„é€šè®¯æ–¹å¼ï¼Œå°†ç”¨æˆ·çš„è¡Œä¸ºåé¦ˆåˆ°é€»è¾‘å±‚<br>å³äº‹ä»¶å¯ä»¥é€šè¿‡åœ¨ wxml ä¸­ç»‘å®šåœ¨ç»„ä»¶ä¸Šï¼Œè¾¾åˆ°è§¦å‘æ¡ä»¶æ—¶ï¼Œä¼šè§¦å‘ç›¸åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°(äº‹ä»¶å“åº”)å¯¹è±¡å¯ä»¥é¢å¤–æºå¸¦å¦‚ id,dataset ç­‰é¢å¤–ä¿¡æ¯</p><p>ç»„å»ºäº‹ä»¶å“åº”ï¼š</p><ol><li><p>ç»„ä»¶ä¸Šç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°<br>ç‚¹å‡»äº‹ä»¶ç»‘å®šå¤„ç†å‡½æ•°çš„æ–¹æ³•ï¼šä½¿ç”¨<code>bindtap</code>å±æ€§ï¼Œå±æ€§å€¼ä¸º js ä¸­çš„äº‹ä»¶çš„äº‹ä»¶å¤„ç†å‡½æ•°çš„å‡½æ•°å</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;view id=<span class="string">&quot;tapTest&quot;</span> data-hi=<span class="string">&quot;WeChat&quot;</span> bindtab=<span class="string">&quot;tapName&quot;</span>&gt;</span><br><span class="line">  Click me!</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure></li><li><p>Page ä¸­å†™ç›¸åº”å‡½æ•°å¤„ç†äº‹ä»¶ï¼Œå•æ•°æ˜¯ eventï¼Œå‡½æ•°åè¦å’Œ wxml ä¸­ç»‘å®šçš„ bindtap å±æ€§å±æ€§å€¼ä¸€è‡´</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  <span class="function"><span class="title">tapName</span>(<span class="params">event</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(event); <span class="comment">//è¯¥è¯­å¥å°†è·å–åˆ°çš„æ•°æ®æ‰“å°åœ¨äº†ç¼–è¯‘å™¨çš„çª—å£ä¸­</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="å°ç¨‹åº-js-æ•°æ®å¤„ç†"><a href="#å°ç¨‹åº-js-æ•°æ®å¤„ç†" class="headerlink" title="å°ç¨‹åº js æ•°æ®å¤„ç†"></a>å°ç¨‹åº js æ•°æ®å¤„ç†</h5></li></ol><h6 id="this-å…³é”®å­—"><a href="#this-å…³é”®å­—" class="headerlink" title="this å…³é”®å­—"></a>this å…³é”®å­—</h6><p>thisï¼šå½“å‰å¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨ï¼Œåœ¨ä½¿ç”¨æ—¶å¾€å¾€æŒ‡å‘çš„æ˜¯ä¸Šä¸€å±‚å¯¹è±¡ï¼Œåœ¨å‡½æ•°ä¸­æ‰§è¡Œæ—¶æŒ‡å‘çš„æ˜¯å…¨å±€å¯¹è±¡</p><p>è®¿é—®é¡µé¢æ•°æ®ï¼šthis.data é¡µé¢åˆå§‹æ•°æ®çš„é‚£éƒ¨åˆ†<br>è°ƒç”¨é¡µé¢å†…çš„å‡½æ•°ï¼šthis.onload() æ‰§è¡Œè¿™ä¸€è¯­å¥å°±ä¼šæ‰§è¡Œ onload()å‡½æ•°</p><p>tips: è‹¥åœ¨ API ä¸­ä½¿ç”¨ thisï¼Œéœ€è¦åœ¨è°ƒç”¨ API å‰æš‚å­˜æŒ‡å‘é¡µé¢çš„ thisï¼Œä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> that = <span class="built_in">this</span>;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="string">&#x27;balabala&#x27;</span>,</span><br><span class="line">    c:[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  action:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.data.a=<span class="number">666</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;è¿™æ˜¯æ–°çš„å‡½æ•°&quot;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span>(<span class="params">options</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.data)<span class="comment">//è°ƒæ—¶çª—å£æ‰“å°å‡ºdataä¸­çš„æ‰€æœ‰å€¼</span></span><br><span class="line">    <span class="built_in">this</span>.action()<span class="comment">//è°ƒç”¨actionå‡½æ•°</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="é¡µé¢æ•°æ®æ›´æ–°"><a href="#é¡µé¢æ•°æ®æ›´æ–°" class="headerlink" title="é¡µé¢æ•°æ®æ›´æ–°"></a>é¡µé¢æ•°æ®æ›´æ–°</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.setData(&#123;</span><br><span class="line">  <span class="comment">//å˜é‡åï¼šæ–°çš„å€¼ï¼Œ</span></span><br><span class="line">  <span class="comment">//å˜é‡åï¼šæ–°çš„å€¼ï¼Œ</span></span><br><span class="line">  <span class="comment">//å˜é‡åï¼šæ–°çš„å€¼</span></span><br><span class="line">  a: <span class="number">8888</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h6 id="ä¸åŒé¡µé¢çš„æ•°æ®å‡ºä¼ é€’"><a href="#ä¸åŒé¡µé¢çš„æ•°æ®å‡ºä¼ é€’" class="headerlink" title="ä¸åŒé¡µé¢çš„æ•°æ®å‡ºä¼ é€’"></a>ä¸åŒé¡µé¢çš„æ•°æ®å‡ºä¼ é€’</h6><p>æ–¹æ³•æœ‰äºŒï¼Œå…¶ä¸€ï¼Œé¡µé¢è·³è½¬è¿‡ç¨‹ä¸­æºå¸¦å‚æ•°ã€‚å…¶äºŒï¼Œå°†æ•°æ®å­˜äºå…¨å±€æ•°æ®ä¸­ï¼Œå„ä¸ªé¡µé¢åœ¨ä»å…¨å±€ä¸­è¯»å–</p><p>ç¬¬äºŒç§ç”¨æ³•ï¼šåœ¨ app.js ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">App(&#123;</span><br><span class="line">  globalData: &#123;</span><br><span class="line">    <span class="comment">//globalDataå¯ä»¥æ”¹æˆå…¶ä»–åç§°</span></span><br><span class="line">    userInfo: <span class="literal">null</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å„ä¸ªé¡µé¢ä¸å…¨å±€æ•°æ®è¿›è¡Œäº¤äº’ï¼Œä½¿ç”¨<code>getApp()</code>å†ç¨‹å¦‚ä¸‹:</p><p>é¡µé¢çš„ js æ–‡ä»¶å¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">onLoad:<span class="function"><span class="keyword">function</span>(<span class="params">options</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(getApp().globalData.abc)</span><br><span class="line">  getApp().globalData.abc = <span class="number">456</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>app.js æ–‡ä»¶ä¸­å«æœ‰å¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">App(&#123;</span><br><span class="line">  globalData: &#123;</span><br><span class="line">    <span class="comment">//globalDataå¯ä»¥æ”¹æˆå…¶ä»–åç§°</span></span><br><span class="line">    userInfo: <span class="literal">null</span>,</span><br><span class="line">    abc: <span class="number">1234</span>,</span><br><span class="line">    d: [],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="å¾®ä¿¡å°ç¨‹åºçš„-API-ä»‹ç»"><a href="#å¾®ä¿¡å°ç¨‹åºçš„-API-ä»‹ç»" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºçš„ API ä»‹ç»"></a>å¾®ä¿¡å°ç¨‹åºçš„ API ä»‹ç»</h3><p>API çš„ç±»å‹ï¼š</p><ul><li>äº‹ä»¶ç›‘å¬ APIï¼šä»¥ on å¼€å¤´ç”¨äºç›‘å¬</li><li>åŒæ­¥ APIï¼šä»¥ Sync ç»“å°¾çš„ API éƒ½æ˜¯åŒæ­¥ APIï¼Œèµ·æ‰§è¡Œç»“æœå¯é€šè¿‡å‡½æ•°è¿”å›å€¼ç›´æ¥è·å–ã€‚å½“æ‰§è¡Œåˆ° API æ—¶ï¼Œåœæ­¢ç»„ä»¶è¿›ç¨‹ç­‰å¾… API æ‰§è¡Œå®Œã€‚</li><li>å¼‚æ­¥ APIï¼šéƒ½æ¥å—ä¸€ä¸ª object ç±»å‹çš„å‚æ•°ã€‚ç¨‹åºä¼šå¯åŠ¨ä¸€ä¸ªåˆ†æ”¯æ¥è¿è¡Œ API</li></ul><h4 id="API-å†…å®¹"><a href="#API-å†…å®¹" class="headerlink" title="API å†…å®¹"></a>API å†…å®¹</h4><ul><li>success éƒ¨åˆ†ï¼šæ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</li><li>fail éƒ¨åˆ†ï¼šæ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</li><li>complete éƒ¨åˆ†ï¼šæ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°</li></ul><p>å¾®ä¿¡ç™»é™† API</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">wx.login(&#123;</span><br><span class="line">  <span class="function"><span class="title">success</span>(<span class="params">res</span>)</span> &#123;</span><br><span class="line">    <span class="comment">//æˆåŠŸæ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">fail</span>(<span class="params">res</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res.errMsg);</span><br><span class="line">    <span class="comment">//å¤±è´¥æ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">complete</span>(<span class="params">res</span>)</span> &#123;</span><br><span class="line">    <span class="comment">//ä¸€å®šæ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Object ç±»å‹å‚æ•°åŒ…å«çš„å­—æ®µ</p><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>errMsg</td><td>string</td><td>é”™è¯¯ä¿¡æ¯ï¼Œè‹¥æˆåŠŸä¸º</td></tr><tr><td>errCode</td><td>number</td><td>é”™è¯¯ç ï¼ŒæˆåŠŸæ—¶ä¸º 0</td></tr><tr><td>å…¶ä»–</td><td>Any</td><td>æ¥å£è¿”å›æ•°æ®</td></tr></tbody></table><h4 id="è°ƒç”¨-API-è¿›è¡Œé¡µé¢äº’äº¤"><a href="#è°ƒç”¨-API-è¿›è¡Œé¡µé¢äº’äº¤" class="headerlink" title="è°ƒç”¨ API è¿›è¡Œé¡µé¢äº’äº¤"></a>è°ƒç”¨ API è¿›è¡Œé¡µé¢äº’äº¤</h4><ol><li>æ¶ˆæ¯æç¤ºæ¡†</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wx.showToast(&#123;</span><br><span class="line">  title: <span class="string">&quot;æˆåŠŸ&quot;</span>, <span class="comment">//æ–‡å­—</span></span><br><span class="line">  icon: <span class="string">&quot;success&quot;</span>, <span class="comment">//å¯¹å‹¾</span></span><br><span class="line">  duration: <span class="number">2000</span>, <span class="comment">//å»¶æ—¶æ—¶é—´</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ol start="2"><li>æ¨¡æ€å¼¹çª—</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">wx.showModal(&#123;</span><br><span class="line">  title: <span class="string">&quot;æç¤º&quot;</span>,</span><br><span class="line">  content: <span class="string">&quot;è¿™æ˜¯ä¸€ä¸ªæ¨¡æ€å¼¹çª—&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">success</span>(<span class="params">res</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (res.confirm) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;ç”¨æˆ·ç‚¹å‡»ç¡®å®š&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.cancel) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;ç”¨æˆ·ç‚¹å‡»å–æ¶ˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ol start="3"><li>Loading æç¤ºæ¡†</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wx.showLoading(&#123;</span><br><span class="line">  title: <span class="string">&quot;åŠ è½½ä¸­&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  wx.hideLoading(); <span class="comment">//å¿…é¡»è°ƒç”¨hideLoadingæ‰èƒ½å…³é—­loading</span></span><br><span class="line">&#125;, <span class="number">2000</span>);</span><br></pre></td></tr></table></figure><ol start="4"><li>é¡µé¢è·¯ç”± API</li></ol><ul><li><code>wx.relaunch()</code>å…³é—­æ‰€æœ‰é¡µé¢ï¼Œæ‰“å¼€åˆ°æŒ‡å®šé¡µé¢</li><li><code>wx.redirectTo()</code>å…³é—­å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°æŒ‡å®šé¡µé¢</li><li><code>wx.navigateTo()</code>ä¿ç•™å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°æŒ‡å®šé¡µé¢</li><li><code>wx.navigateBack()</code>å…³é—­å½“å‰é¡µé¢ï¼Œè¿”å›ä¸Šä¸€çº§æˆ–å¤šçº§é¡µé¢</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">wx.relaunch(&#123;</span><br><span class="line">  url: <span class="string">&quot;/pages/jsjs/jsjs&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">wx.redirectTo(&#123;</span><br><span class="line">  url: <span class="string">&quot;../jsjs/jsjs&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">wx.navigateTo(&#123;</span><br><span class="line">  url: <span class="string">&quot;/pages/jsjs/jsjs&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">wx.navigateBack(&#123;</span><br><span class="line">  delta: <span class="number">1</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ESP32_ç‰©è”ç½‘é‚£äº›äº‹</title>
      <link href="2020/12/03/esp32_wu_lian_wang_na_xie_shi/esp32_wu_lian_wang_na_xie_shi/"/>
      <url>2020/12/03/esp32_wu_lian_wang_na_xie_shi/esp32_wu_lian_wang_na_xie_shi/</url>
      
        <content type="html"><![CDATA[<h2 id="ESP32-ç‰©è”ç½‘é‚£äº›äº‹"><a href="#ESP32-ç‰©è”ç½‘é‚£äº›äº‹" class="headerlink" title="ESP32_ç‰©è”ç½‘é‚£äº›äº‹"></a>ESP32_ç‰©è”ç½‘é‚£äº›äº‹</h2><p>é€šè¿‡æŸ¥é˜…èµ„æ–™ï¼ŒESP32 æ˜¯ä¸€æ¬¾ç‰©è”ç½‘æ¨¡å—ï¼Œå®ƒæ”¯æŒ TCP/IP åè®®ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ socket é€šè®¯ï¼Œå®ç°å±€åŸŸç½‘é€šä¿¡ï¼Œå®ƒä¹Ÿæ”¯æŒ MQTT é€šè®¯ï¼Œå‘µè¿œç¨‹è¿æ¥åˆ°é˜¿é‡Œäº‘ã€‚ä¸‹é¢çš„é“¾æ¥æœ‰è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜ã€‚</p><p><a target="_blank" rel="noopener" href="http://www.1zlab.com/wiki/micropython-esp32/sockets/">Socket é€šä¿¡</a></p><h2 id="ä½¿ç”¨ç‰©è”ç½‘ç¬¬ä¸€æ­¥ï¼šçƒ§å½•å›ºä»¶"><a href="#ä½¿ç”¨ç‰©è”ç½‘ç¬¬ä¸€æ­¥ï¼šçƒ§å½•å›ºä»¶" class="headerlink" title="ä½¿ç”¨ç‰©è”ç½‘ç¬¬ä¸€æ­¥ï¼šçƒ§å½•å›ºä»¶"></a>ä½¿ç”¨ç‰©è”ç½‘ç¬¬ä¸€æ­¥ï¼šçƒ§å½•å›ºä»¶</h2><p>è¿™é‡Œæåˆ°çš„å›ºä»¶æ˜¯micropythonå®˜æ–¹å‡ºçš„å›ºä»¶ï¼Œæˆ‘åœ¨ç½‘ä¸Šè¿˜çœ‹åˆ°äº†ä¸å°‘é€šè¿‡Cè¯­è¨€å†™.binå›ºä»¶çš„æ•™ç¨‹ï¼Œå¯ä»¥å†™è‡ªå·±éœ€è¦çš„å›ºä»¶åˆ·å…¥åˆ°ESP32ä¸­</p><p>å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« </p><p><a href="https://hp-l.gitee.io/2020/11/05/ESP32-micropython%E5%9B%BA%E4%BB%B6%E7%83%A7%E5%BD%95/esp32-micropython%E5%9B%BA%E4%BB%B6%E7%83%A7%E5%BD%95/?t=1606983183242">ESP32_micropythonå›ºä»¶çƒ§å½•</a></p><h2 id="å¦‚ä½•è¿æ¥åˆ°-WiFiï¼Ÿ"><a href="#å¦‚ä½•è¿æ¥åˆ°-WiFiï¼Ÿ" class="headerlink" title="å¦‚ä½•è¿æ¥åˆ° WiFiï¼Ÿ"></a>å¦‚ä½•è¿æ¥åˆ° WiFiï¼Ÿ</h2><p><a href="https://hp-l.gitee.io/2020/11/09/micropython%E8%81%94%E7%BD%91%E5%90%8C%E6%AD%A5%E6%97%B6%E9%97%B4/micropython%E8%81%94%E7%BD%91%E5%90%8C%E6%AD%A5%E6%97%B6%E9%97%B4/?t=1606983747012">Micropythonè”ç½‘åŒæ­¥æ—¶é—´</a></p><p>ESP32 æ˜¯å¯ä»¥ä½¿ç”¨ REPL çš„ï¼ŒREPL å°±åƒå±€åŸŸç½‘ä¸‹çš„ VSCodeï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸Šç¼–å†™ç¨‹åºï¼Œå¯æƒœä»–ä¸èƒ½å¼€æœºè‡ªå¯ï¼Œäºæ˜¯å°±æœ‰äººå¼€å‘äº†ä¸€æ¬¾å«åš EMP çš„ IDE ï¼Œä¸‹é¢æœ‰é“¾æ¥ã€‚</p><p><a target="_blank" rel="noopener" href="http://www.1zlab.com/wiki/micropython-esp32/emp-project/">EMPé¡¹ç›®ç®€ä»‹</a></p><p>æˆ‘åœ¨æ‰§è¡ŒåŸæ–‡æä¾›çš„ä»£ç æ—¶å‘ç°<code>set_boot_mode()</code>æŠ¥é”™</p><p>åŸæ–‡æä¾›çš„ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> emp_boot <span class="keyword">import</span> set_boot_mode</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>set_boot_mode()</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> emp_boot <span class="keyword">import</span> set_boot_mode</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>set_boot_mode()</span><br><span class="line">[<span class="number">0</span>]  Boot <span class="keyword">with</span> nothing</span><br><span class="line">     attention: this option will clear up boot.py, careful!</span><br><span class="line">[<span class="number">1</span>]  Boot <span class="keyword">with</span> wifi startup</span><br><span class="line">       this mode will auto start wifi connect program.</span><br><span class="line">[<span class="number">2</span>]  Easy to develop</span><br><span class="line">     this mode <span class="keyword">is</span> <span class="keyword">for</span> developers.In this mode you can develop much easier via EMP-         IDE(emp<span class="number">.1</span>zlab.com)</span><br><span class="line">Please <span class="built_in">input</span> your choice [<span class="number">0</span>-<span class="number">2</span>]:</span><br></pre></td></tr></table></figure><p>ä¸‹é¢ç»™å‡ºè§£å†³æ–¹æ¡ˆï¼š</p><p>åœ¨ ESP32 çš„ boot.py ä¸­æ‰€æœ‰ä»£ç æ›¿æ¢æˆå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> emp_wifi <span class="keyword">import</span> Wifi</span><br><span class="line"><span class="keyword">from</span> emp_webrepl <span class="keyword">import</span> WebREPL</span><br><span class="line"><span class="keyword">from</span> emp_utils <span class="keyword">import</span> webrepl_pass</span><br><span class="line"><span class="keyword">from</span> emp_utils <span class="keyword">import</span> post_ip</span><br><span class="line"><span class="keyword">from</span> machine <span class="keyword">import</span> Pin <span class="comment"># å¼•ç”¨LEDä½¿ç”¨</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">wifi_LED = Pin(<span class="number">12</span>, Pin.OUT, value=<span class="number">1</span>) <span class="comment">#å®šä¹‰LED</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    Wifi.connect()</span><br><span class="line">    post_ip(Wifi.ifconfig()[<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line">    wifi_LED.value(<span class="number">0</span>)</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    wifi_LED.value(<span class="number">1</span>)</span><br><span class="line"><span class="comment">#     WebREPL.start(password=webrepl_pass())</span></span><br><span class="line"><span class="comment">#     from emp_ide import *</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">ä¸Šé¢ä¸¤è¡Œæ˜¯è°ƒç”¨emp_ideï¼Œå–æ¶ˆæ³¨é‡Šå°±å¯ä»¥ä½¿ç”¨emp_ideï¼Œ</span></span><br><span class="line"><span class="string">è¿™é‡Œæ³¨é‡Šæ‰çš„åŸå› æ˜¯æƒ³ç›´æ¥è°ƒç”¨è¿æ¥WiFiçš„å‡½æ•°ä¸ä½¿ç”¨emp_ide</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨æŒ‰å¤ä½å³å¯ï¼Œç»ˆç«¯ä¸­ä¼šæç¤ºè¿æ¥ç½‘ç»œå¹¶ä¸”è¾“å…¥å¯†ç ï¼Œè¿æ¥è¿‡çš„ WiFi ä¼šè¢«è®°ä½ï¼Œä¸‹æ¬¡è¿æ¥è‡ªåŠ¨è¿ï¼Œéå¸¸æ–¹ä¾¿</p><h2 id="åˆ©ç”¨-ESP32-è”ç½‘å®ç°ä¸€äº›å°åŠŸèƒ½"><a href="#åˆ©ç”¨-ESP32-è”ç½‘å®ç°ä¸€äº›å°åŠŸèƒ½" class="headerlink" title="åˆ©ç”¨ ESP32 è”ç½‘å®ç°ä¸€äº›å°åŠŸèƒ½"></a>åˆ©ç”¨ ESP32 è”ç½‘å®ç°ä¸€äº›å°åŠŸèƒ½</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ socket é€šè®¯ä½¿å¾— PC å¯ä»¥ä¼ è¾“æ•°æ®æµåˆ° ESP32 ä¸­ï¼Œä¸‹é¢æ˜¯ä»£ç ï¼Œè¿™é‡Œä»¿ç…§çš„æ˜¯<a target="_blank" rel="noopener" href="http://www.1zlab.com/wiki/micropython-esp32/sockets/">Socket é€šä¿¡</a>æ–‡æœ«çš„ä»£ç ï¼ŒåŸæ–‡ä¸­ä»£ç åªèƒ½ä¼ è¾“å­—èŠ‚ï¼Œä¸‹é¢ä»£ç å¯ä»¥ä¼ è¾“ä¸­æ–‡å­—ç¬¦ï¼Œé€šè¿‡å®šä¹‰ IO å£å¯ä»¥å®ç°å±€åŸŸç½‘ç‚¹äº® LEDï¼Œç”šè‡³èˆµæœºã€‚</p><h3 id="ESP32-TCP-æœåŠ¡ç«¯"><a href="#ESP32-TCP-æœåŠ¡ç«¯" class="headerlink" title="ESP32 TCP æœåŠ¡ç«¯"></a>ESP32 TCP æœåŠ¡ç«¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> machine <span class="keyword">import</span> Timer,Pin,RTC <span class="comment">#è°ƒç”¨GPIOå£è°ƒç”¨å®šæ—¶å™¨åº“</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">from</span> emp_wifi <span class="keyword">import</span> Wifi</span><br><span class="line"><span class="keyword">import</span> network</span><br><span class="line">wifi = network.WLAN(network.STA_IF)</span><br><span class="line">wifi.active(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿œç¨‹è¿æ¥ä¼ è¾“å‘½ä»¤å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">connect_to_phone</span>():</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># æ³¨æ„ï¼šçº¿è¿æ¥åˆ°WiFiç½‘ç»œï¼</span></span><br><span class="line">        <span class="comment"># å¦‚æœæœªè¿æ¥åˆ°ç½‘ç»œï¼Œä»¥ä¸‹æ˜¯è¿æ¥åˆ°ç½‘ç»œçš„ä»£ç </span></span><br><span class="line">        <span class="comment"># Wifi.connect()</span></span><br><span class="line">        ip = Wifi.ifconfig()[<span class="number">0</span>][<span class="number">0</span>]   <span class="comment">#è·å–IPåœ°å€</span></span><br><span class="line">        listenSocket = socket.socket()   <span class="comment">#åˆ›å»ºå¥—æ¥å­—</span></span><br><span class="line">        listenSocket.bind((ip, port))   <span class="comment">#ç»‘å®šåœ°å€å’Œç«¯å£å·</span></span><br><span class="line">        listenSocket.listen(<span class="number">1</span>)   <span class="comment">#ç›‘å¬å¥—æ¥å­—, æœ€å¤šå…è®¸ä¸€ä¸ªè¿æ¥</span></span><br><span class="line">        listenSocket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="number">1</span>)   <span class="comment">#è®¾ç½®å¥—æ¥å­—</span></span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&#x27;tcp waiting...&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            print(<span class="string">&quot;accepting.....&quot;</span>)</span><br><span class="line">            conn, addr = listenSocket.accept()   <span class="comment">#æ¥æ”¶è¿æ¥è¯·æ±‚ï¼Œè¿”å›æ”¶å‘æ•°æ®çš„å¥—æ¥å­—å¯¹è±¡å’Œå®¢æˆ·ç«¯åœ°å€</span></span><br><span class="line">            print(addr, <span class="string">&quot;connected&quot;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                data = conn.recv(<span class="number">1024</span>)   <span class="comment">#æ¥æ”¶æ•°æ®ï¼ˆ1024å­—èŠ‚å¤§å°ï¼‰</span></span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">len</span>(data) == <span class="number">0</span>):   <span class="comment">#åˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ–­å¼€è¿æ¥</span></span><br><span class="line">                    print(<span class="string">&quot;close socket&quot;</span>)</span><br><span class="line">                    conn.close()   <span class="comment">#å…³é—­å¥—æ¥å­—</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">    <span class="comment">#             print(data)</span></span><br><span class="line">                code_utf8 = <span class="built_in">bytes</span>.decode(data)</span><br><span class="line">                print(code_utf8)</span><br><span class="line">                ret = conn.send(data)   <span class="comment">#å‘é€æ•°æ®</span></span><br><span class="line">                <span class="keyword">if</span> code_utf8 == <span class="string">&quot;led1 open&quot;</span>:</span><br><span class="line">                    B.value(<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">if</span> code_utf8 == <span class="string">&quot;led2 open&quot;</span>:</span><br><span class="line">                    C.value(<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">if</span> code_utf8 == <span class="string">&quot;led1 down&quot;</span>:</span><br><span class="line">                    B.value(<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">if</span> code_utf8 == <span class="string">&quot;led2 down&quot;</span>:</span><br><span class="line">                    C.value(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">if</span>(listenSocket):   <span class="comment">#åˆ¤æ–­å¥—æ¥å­—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">            listenSocket.close()   <span class="comment">#å…³é—­å¥—æ¥å­—</span></span><br><span class="line"></span><br><span class="line">wifi_connect()</span><br></pre></td></tr></table></figure><h3 id="PC-ç«¯"><a href="#PC-ç«¯" class="headerlink" title="PC ç«¯"></a>PC ç«¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="comment"># PC TCP Client</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> socket               <span class="comment"># å¯¼å…¥ socket æ¨¡å—</span></span><br><span class="line"></span><br><span class="line">s = socket.socket()         <span class="comment"># åˆ›å»º socket å¯¹è±¡</span></span><br><span class="line">host = <span class="string">&#x27;192.168.2.231&#x27;</span>      <span class="comment"># esp32 ip</span></span><br><span class="line">port = <span class="number">10000</span>                <span class="comment"># è®¾ç½®ç«¯å£å·</span></span><br><span class="line"></span><br><span class="line">s.connect((host, port))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        msg = raw_input(<span class="string">&#x27;&gt;&gt;&gt; &#x27;</span>)</span><br><span class="line">        s.send(msg)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> ESP32 </tag>
            
            <tag> ç‰©è”ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STM32å¼€å‘ç¯å¢ƒæ­å»º</title>
      <link href="2020/11/25/stm32_kai_fa_huan_jing_da_jian/stm32_kai_fa_huan_jing_da_jian/"/>
      <url>2020/11/25/stm32_kai_fa_huan_jing_da_jian/stm32_kai_fa_huan_jing_da_jian/</url>
      
        <content type="html"><![CDATA[<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p><a target="_blank" rel="noopener" href="https://www.st.com/en/development-tools/stm32cubeide.html">Integrated Development Environment for STM32</a></p><p>æ±‰åŒ–å’Œå®‰è£…ä¸»é¢˜è¯·å‚è€ƒä¸‹é¢çš„é“¾æ¥<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/wct3344142/article/details/104142863">https://blog.csdn.net/wct3344142/article/details/104142863</a></p><p>æˆ‘ä½¿ç”¨çš„ç½‘å€æ˜¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;eclipse&#x2F;technology&#x2F;babel&#x2F;update-site&#x2F;R0.18.1&#x2F;2019-12&#x2F;</span><br></pre></td></tr></table></figure><p>é€‰é¡¹å’Œä¸Šé¢çš„é“¾æ¥é‡Œçš„ä¸ä¸€æ ·<br><a href="https://hp-l.gitee.io/2020/11/25/STM32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/stm32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/IDE%E6%B1%89%E5%8C%96.png">thonny_download.png</a></p><h2 id="æ–°å»ºå·¥ç¨‹"><a href="#æ–°å»ºå·¥ç¨‹" class="headerlink" title="æ–°å»ºå·¥ç¨‹"></a>æ–°å»ºå·¥ç¨‹</h2><p>æµç¨‹å¦‚å›¾(ç‚¹å¼€æŸ¥çœ‹å¤§å›¾)</p><p><img src="./IDE_new_project.png" class="lazyload placeholder" data-srcset="./IDE_new_project.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="IDE_new_project"><br><img src="./IDE_new_project_1.png" class="lazyload placeholder" data-srcset="./IDE_new_project_1.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="IDE_new_project_1"><br><img src="./IDE_new_project_2.png" class="lazyload placeholder" data-srcset="./IDE_new_project_2.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="IDE_new_project_2"></p><p><img src="./IDE_new_project_3.png" class="lazyload placeholder" data-srcset="./IDE_new_project_3.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="IDE_new_project_3"><br><img src="./IDE_new_project_4.png" class="lazyload placeholder" data-srcset="./IDE_new_project_4.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="IDE_new_project_4"><br><img src="./IDE_new_project_5.png" class="lazyload placeholder" data-srcset="./IDE_new_project_5.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="IDE_new_project_5"><br><img src="./IDE_new_project_6.png" class="lazyload placeholder" data-srcset="./IDE_new_project_6.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="IDE_new_project_6"></p>]]></content>
      
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»ºArduino_ESP2866ç¯å¢ƒ</title>
      <link href="2020/11/21/da_jian_arduino_esp2866_huan_jing/da_jian_arduino_esp2866_huan_jing/"/>
      <url>2020/11/21/da_jian_arduino_esp2866_huan_jing/da_jian_arduino_esp2866_huan_jing/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸‹è½½-Arduino-IDE"><a href="#ä¸‹è½½-Arduino-IDE" class="headerlink" title="ä¸‹è½½ Arduino IDE"></a>ä¸‹è½½ Arduino IDE</h2><ul><li><p><a target="_blank" rel="noopener" href="https://www.arduino.cc/">Arduino å®˜ç½‘</a></p></li><li><p><a target="_blank" rel="noopener" href="https://downloads.arduino.cc/arduino-1.8.13-windows.zip">Arduino IDE 1.8.13</a></p></li></ul><p>ä¸‹è½½å®Œæˆåæ‰“å¼€ arduino.exe<br><img src="./%E6%89%93%E5%BC%80arduino_IDE.png" class="lazyload placeholder" data-srcset="./%E6%89%93%E5%BC%80arduino_IDE.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="æ‰“å¼€arduino_IDE.png"></p><h2 id="æ·»åŠ -json-æ–‡ä»¶"><a href="#æ·»åŠ -json-æ–‡ä»¶" class="headerlink" title="æ·»åŠ  json æ–‡ä»¶"></a>æ·»åŠ  json æ–‡ä»¶</h2><p>æ‰“å¼€é¦–é€‰é¡¹<br><img src="./%E9%A6%96%E9%80%89%E9%A1%B9.png" class="lazyload placeholder" data-srcset="./%E9%A6%96%E9%80%89%E9%A1%B9.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="é¦–é€‰é¡¹.png"><br><img src="./%E7%AE%A1%E7%90%86%E5%99%A8%E7%BD%91%E5%9D%80.png" class="lazyload placeholder" data-srcset="./%E7%AE%A1%E7%90%86%E5%99%A8%E7%BD%91%E5%9D%80.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="ç®¡ç†å™¨ç½‘å€.png"><br>åœ¨å¼€å‘æ¿ç®¡ç†å™¨ç½‘å€å¡«å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;arduino.esp8266.com&#x2F;stable&#x2F;package_esp8266com_index.json</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;wechat.doit.am&#x2F;package_esp8266com_index.json</span><br></pre></td></tr></table></figure><p>åœ¨<a target="_blank" rel="noopener" href="https://github.com/esp8266/Arduino">GitHub ä¸Šçš„é¡¹ç›®</a>é‡Œæœ‰æœ€æ–°çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯éœ€è¦ç§‘å­¦ä¸Šç½‘æ‰€ä»¥é€‰æ‹©ç¬¬äºŒä¸ª</p><h2 id="æ·»åŠ -ESP8266-å¼€å‘æ¿"><a href="#æ·»åŠ -ESP8266-å¼€å‘æ¿" class="headerlink" title="æ·»åŠ  ESP8266 å¼€å‘æ¿"></a>æ·»åŠ  ESP8266 å¼€å‘æ¿</h2><p>æœç´¢æ é”®å…¥ 8266<br><img src="./%E6%B7%BB%E5%8A%A0%E5%BC%80%E5%8F%91%E6%9D%BF.png" class="lazyload placeholder" data-srcset="./%E6%B7%BB%E5%8A%A0%E5%BC%80%E5%8F%91%E6%9D%BF.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="æ·»åŠ å¼€å‘æ¿.png"><br><img src="./%E6%9F%A5%E6%89%BE%E5%BC%80%E5%8F%91%E6%9D%BF.png" class="lazyload placeholder" data-srcset="./%E6%9F%A5%E6%89%BE%E5%BC%80%E5%8F%91%E6%9D%BF.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="æŸ¥æ‰¾å¼€å‘æ¿.png"><br>å¦‚æœå‡ºç°ä¸‹è½½å¤±è´¥å¯ä»¥ä»è¿™é‡Œä¸‹è½½</p><ul><li><p>å¦‚æœå®‰è£…è¿‡å…¶ä»–ç‰ˆæœ¬çš„ esp8266sdkï¼Œè¯·å…ˆåˆ é™¤ï¼Œå†ä½¿ç”¨æœ¬å®‰è£…åŒ…ã€‚</p></li><li><p>è§£å‹å®Œæˆåï¼Œå†æ‰“å¼€ Arduino IDEï¼Œå³å¯åœ¨ èœå•æ &gt;å·¥å…·&gt;å¼€å‘æ¿ ä¸­æ‰¾åˆ°ä½ ä½¿ç”¨çš„ esp8266 å¼€å‘æ¿ã€‚</p></li></ul><p>æ¥è‡ª Arduino ä¸­æ–‡ç¤¾åŒºçš„å¤§ä½¬</p><ul><li><a target="_blank" rel="noopener" href="https://share.weiyun.com/5CGEKJO">https://share.weiyun.com/5CGEKJO</a></li></ul><p>å®‰è£…å®Œæˆåé‡å¯ Arduino IDE å°±ä¼šæœ‰æ˜¾ç¤ºäº†<br><img src="./END.png" class="lazyload placeholder" data-srcset="./END.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="END.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Arduino </tag>
            
            <tag> ESP2866 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹æœºå®šæ—¶åˆ‡æ¢å£çº¸</title>
      <link href="2020/11/15/shou_ji_ding_shi_qie_huan_bi_zhi/shou_ji_ding_shi_qie_huan_bi_zhi/"/>
      <url>2020/11/15/shou_ji_ding_shi_qie_huan_bi_zhi/shou_ji_ding_shi_qie_huan_bi_zhi/</url>
      
        <content type="html"><![CDATA[<h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ol><li><p>æ‰‹æœºå®‰è£… termuxAPP å’Œ termux_API (è¿™é‡Œç»™å‡ºå‚è€ƒåšå®¢é“¾æ¥)</p><ul><li><p><a target="_blank" rel="noopener" href="https://www.sqlsec.com/2018/05/termux.html">å›½å…‰çš„ Termux é«˜çº§ç»ˆç«¯å®‰è£…ä½¿ç”¨é…ç½®æ•™ç¨‹</a></p></li><li><p><a target="_blank" rel="noopener" href="https://www.sqlsec.com/2018/05/termux.html#toc-heading-3">è·³è½¬ä¸‹è½½é“¾æ¥</a></p></li><li><p><a target="_blank" rel="noopener" href="https://www.sqlsec.com/2018/05/termux.html#toc-heading-167">API ä¸‹è½½é“¾æ¥</a></p></li></ul></li><li><p>å®ŒæˆåŸºç¡€çš„å®‰è£…</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pkg install termux-api  <span class="comment">#termux-API</span></span><br><span class="line">pkg install cronie      <span class="comment">#linux å®šæ—¶è½¯ä»¶</span></span><br></pre></td></tr></table></figure><h2 id="ç¼–è¾‘å®šæ—¶è¿è¡Œçš„-shell-è„šæœ¬"><a href="#ç¼–è¾‘å®šæ—¶è¿è¡Œçš„-shell-è„šæœ¬" class="headerlink" title="ç¼–è¾‘å®šæ—¶è¿è¡Œçš„ shell è„šæœ¬"></a>ç¼–è¾‘å®šæ—¶è¿è¡Œçš„ shell è„šæœ¬</h2><p>ç¼–è¾‘ bizhi.sh æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">termux-wallpaper -f ./å£çº¸æ‰€åœ¨ç›®å½•/$((RANDOM%<span class="number">152</span>+<span class="number">1</span>)).jpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># $((RANDOM%152+1))æ˜¯ç”¨æ¥éšæœºå–æ•°çš„</span></span><br><span class="line"><span class="comment"># $((RANDOM%152+1))å¯ä»¥æ¢æˆæ–‡ä»¶å</span></span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/11/15/DxGUVOYLvrMKJc7.png" class="lazyload placeholder" data-srcset="https://i.loli.net/2020/11/15/DxGUVOYLvrMKJc7.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="æˆ‘çš„æ–‡ä»¶å‘½åæ ¼å¼"></p><h2 id="ç¼–è¾‘å®šæ—¶ä»»åŠ¡æ–‡ä»¶"><a href="#ç¼–è¾‘å®šæ—¶ä»»åŠ¡æ–‡ä»¶" class="headerlink" title="ç¼–è¾‘å®šæ—¶ä»»åŠ¡æ–‡ä»¶"></a>ç¼–è¾‘å®šæ—¶ä»»åŠ¡æ–‡ä»¶</h2><p>ç»ˆç«¯è¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></table></figure><p>å†è¾“å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æ¯éš”äº”åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡bizhi.shæ–‡ä»¶</span><br><span class="line">*&#x2F;5 * * * * .&#x2F;æ–‡ä»¶è·¯å¾„&#x2F;bizhi.sh</span><br></pre></td></tr></table></figure><p>åº”ä¸º Termux é»˜è®¤ä¸å¯åŠ¨ crontabï¼Œæ‰€ä»¥è¿›å…¥ Termux è¦å¼€å¯ä¸€ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crond start <span class="comment">#å¼€å¯</span></span><br></pre></td></tr></table></figure><p>åœ¨æ‰‹æœºè®¾ç½®ä¸­ï¼Œtermux å’Œ termux-API éƒ½å¼€å¯æ‰‹åŠ¨ç®¡ç†</p><p><img src="https://i.loli.net/2020/11/15/I3X1TJlPrbMBypf.jpg" class="lazyload placeholder" data-srcset="https://i.loli.net/2020/11/15/I3X1TJlPrbMBypf.jpg" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="æ‰‹æœºç®¡ç†é¡µé¢"></p><iframe height=520 width=776   src="//player.bilibili.com/player.html?aid=458590572&bvid=BV1Y5411n7tx&cid=280885187&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="max-width: 100%, text-align: center" > </iframe>]]></content>
      
      
      
        <tags>
            
            <tag> termux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Micropythonè”ç½‘åŒæ­¥æ—¶é—´</title>
      <link href="2020/11/09/micropython_lian_wang_tong_bu_shi_jian/micropython_lian_wang_tong_bu_shi_jian/"/>
      <url>2020/11/09/micropython_lian_wang_tong_bu_shi_jian/micropython_lian_wang_tong_bu_shi_jian/</url>
      
        <content type="html"><![CDATA[<!--headimg: https://tse2-mm.cn.bing.net/th/id/OIP.I-Dxm4tGXel1krdRKZEdlwHaB9?pid=Api&rs=1 --><!--headimg: https://tse2-mm.cn.bing.net/th/id/OIP.I-Dxm4tGXel1krdRKZEdlwHaB9?pid=Api&rs=1--><!--960px*450px--><!--headimg: https://res.cloudinary.com/practicaldev/image/fetch/s--_ggXRYud--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://thepracticaldev.s3.amazonaws.com/i/fww14sbviudb7xbvckhw.png--><!--960px*450px--><!--640px*300px--><p>ntp æœåŠ¡å™¨å¯ä»¥è‡ªå·±é€‰æ‹©ï¼Œå¯ä»¥ä½¿ç”¨çˆ¬è™«çˆ¬å»æ—¶é—´ä¹Ÿå¯ä»¥ç”¨ NTP æœåŠ¡å™¨åŒæ­¥ï¼Œå°† wifi_connect()å‡½æ•°æœ€åä¸€è¡Œ get_time_py æ¢æˆ get_time()å³å¯<br>ç›´æ¥ä¸Šç¨‹åº</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"># This file is executed on every boot (including wake-boot from deepsleep)</span><br><span class="line">#import esp</span><br><span class="line">#esp.osdebug(None)</span><br><span class="line">#import webrepl</span><br><span class="line">#webrepl.start()</span><br><span class="line"></span><br><span class="line">#ä½¿ç”¨ESP32ä¸Šçš„MicroPythoné€£æ¥Wi-Fiç¶²çµ¡</span><br><span class="line">from machine import Pin,RTC</span><br><span class="line">import network    #ç¶²çµ¡æ¨¡å¡Š</span><br><span class="line">import time       #è¨ˆæ™‚å™¨æ¨¡å¡Š</span><br><span class="line">import ntptime    #ntptimeç¶²çµ¡æ™‚é–“å”è­°æ¨¡å¡Š</span><br><span class="line"></span><br><span class="line">#è‡ªåŠ¨è”ç½‘</span><br><span class="line">def wifi_connect():</span><br><span class="line">  wifi_led&#x3D;Pin(18,Pin.OUT)             # åˆå§‹åŒ–LEDç‡ˆï¼Œå¯è‡ªå®šç¾©</span><br><span class="line">  wlan &#x3D; network.WLAN(network.STA_IF)  #</span><br><span class="line">  wlan.active(True)                    # æ¿€æ´»ç¶²çµ¡æ¥å£</span><br><span class="line">  start_time&#x3D;time.time()               # è¨˜éŒ„é–‹å§‹æ™‚é–“</span><br><span class="line"></span><br><span class="line">  if not wlan.isconnected():              # å¦‚è‹¥è¯ç¶²å¤±æ•—</span><br><span class="line">    print(&quot;å½“å‰æ— çº¿æœªè”ç½‘ï¼Œæ­£åœ¨è¿æ¥ä¸­....&quot;)</span><br><span class="line">    # wlan.connect(&quot;æ­¤å¤„æ”¹ä¸ºä½ çš„æ— çº¿ç½‘åç§°&quot;, &quot;æ— çº¿ç½‘å¯†ç &quot;)</span><br><span class="line">    wlan.connect(&#39;XXXXXXXX&#39;,&#39;XXXXXXXX&#39;)   # ç„¡ç¶«ç¶²SSIDã€å¯†ç¢¼</span><br><span class="line">    while not wlan.isconnected():         # å¦‚è‹¥é‚„æœªé€£æ¥æˆåŠŸï¼ŒLEDå‰‡æœƒä»¥é–ƒçˆçš„æ–¹å¼æç¤ºæœªé€£æ¥åˆ°WIFI</span><br><span class="line">      wifi_led.value(0)</span><br><span class="line">      time.sleep_ms(1000)       # å»¶æ™‚å‡½æ•¸1000æ¯«ç§’</span><br><span class="line">      wifi_led.value(1)</span><br><span class="line">      time.sleep_ms(1000)</span><br><span class="line">      print(&quot;æ­£åœ¨å°è¯•è¿æ¥åˆ°wifi....&quot;)</span><br><span class="line">      print(time.time())</span><br><span class="line"></span><br><span class="line">      if time.time()-start_time&gt;15:       # å¦‚è‹¥è¶…é15ç§’é‚„æœªé€£æ¥å‰‡é€€å‡ºéˆæ¥</span><br><span class="line">        print(&quot;é€£æ¥å¤±æ•—!!!è«‹æª¢æŸ¥ç„¡ç¶«ç¶²åç¨±å’Œå¯†ç¢¼æ˜¯å¦æ­£ç¢º...&quot;)</span><br><span class="line">        break</span><br><span class="line"></span><br><span class="line">  if wlan.isconnected():                  # å¦‚è‹¥é€£æ¥æˆåŠŸ</span><br><span class="line">    wifi_led.value(1)                     # LEDç‡ˆå¸¸äº®</span><br><span class="line">    IP_info&#x3D;wlan.ifconfig()</span><br><span class="line">    print(&quot;##################################################&quot;)</span><br><span class="line">    print(&quot;å·²é€£æ¥WIFIï¼Œä¿¡æ¯å¦‚ä¸‹ï¼š&quot;)</span><br><span class="line">    print(&quot;IPåœ°å€ï¼š&quot;+IP_info[0])</span><br><span class="line">    print(&quot;å­ç¶²æ©ç¢¼ï¼š&quot;+IP_info[1])</span><br><span class="line">    print(&quot;ç¶²é–¢ï¼š&quot;+IP_info[2])</span><br><span class="line">    print(&quot;DNSï¼š&quot;+IP_info[3])</span><br><span class="line">    print(&quot;##################################################&quot;)</span><br><span class="line">    get_time_py()</span><br><span class="line"></span><br><span class="line">#åŒæ­¥æ™‚é–“</span><br><span class="line">def get_time():</span><br><span class="line">    print(&quot;åŒæ­¥æ™‚é–“&quot;)</span><br><span class="line">    print()</span><br><span class="line">    print(&quot;åŒæ­¥å‰æœ¬åœ°æ™‚é–“ï¼š%s&quot; %str(time.localtime()))</span><br><span class="line">    print(&quot;##&quot;)</span><br><span class="line">    ntptime.NTP_DELTA &#x3D; 3155644800    # è¨­ç½®  UTC+8åç§»æ™‚é–“ï¼ˆç§’ï¼‰ï¼Œä¸ä¸è¨­ç½®å°±æ˜¯UTC0</span><br><span class="line">#     ntptime.host &#x3D; &#39;pool.ntp.org&#39;  # å¯é¸ntpæœå‹™å™¨ç‚ºé˜¿é‡Œé›²æœå‹™å™¨ï¼Œé»˜èªæ˜¯&quot;pool.ntp.org&quot;</span><br><span class="line">    ntptime.host &#x3D; &#39;edu.ntp.org.cn&#39;</span><br><span class="line">#     ntptime.host &#x3D; &#39;210.72.145.44&#39; # åœ‹å®¶æˆæ™‚ä¸­å¿ƒæœå‹™å™¨IPåœ°å€</span><br><span class="line">#     ntptime.host &#x3D; &#39;ntp1.aliyun.com&#39;</span><br><span class="line">#     ntptime.host &#x3D; &#39;cn.ntp.org.cn&#39;</span><br><span class="line">    ntptime.settime()                 # ä¿®æ”¹è¨­å‚™æ™‚é–“</span><br><span class="line">    print(&quot;åŒæ­¥åæœ¬åœ°æ™‚é–“ï¼š%s&quot; %str(time.localtime()))</span><br><span class="line">    print(&quot;##################################################&quot;)</span><br><span class="line">    rtc &#x3D; RTC()</span><br><span class="line">    print(rtc.datetime())</span><br><span class="line"></span><br><span class="line"># çˆ¬å–æ™‚é–“</span><br><span class="line">def get_time_py():</span><br><span class="line">    time_api_url &#x3D; &quot;&quot;&quot;http:&#x2F;&#x2F;quan.suning.com&#x2F;getSysTime.do&quot;&quot;&quot;</span><br><span class="line">    r &#x3D; request.get(time_api_url)</span><br><span class="line">    content &#x3D; r.text</span><br><span class="line">    print(&#39;çˆ¬å–æ™‚é–“...&#39;)</span><br><span class="line">    time &#x3D; re.search(</span><br><span class="line">        r&#39;&#123;&quot;sysTime2&quot;:&quot;(.*?)-(.*?)-(.*?) (.*?):(.*?):(.*?)&quot;,&quot;sysTime1&quot;:&quot;&#39;, content</span><br><span class="line">        )</span><br><span class="line">    print(r.text[13:29])</span><br><span class="line">    print(int(r.text[27:29]))</span><br><span class="line">    print(int(r.text[23:26]))</span><br><span class="line">    mm &#x3D; int(r.text[27:29])# åˆ†é˜</span><br><span class="line">    hh &#x3D; int(r.text[23:26])# å°æ™‚</span><br><span class="line">    rtc &#x3D; RTC()</span><br><span class="line">    time_date &#x3D; rtc.datetime()</span><br><span class="line">    print(&#39;é‡ç½®æ™‚é–“ï¼&#39;)</span><br><span class="line">    rtc.datetime((time_date[0], time_date[1], time_date[2], time_date[3], hh, mm, time_date[6], time_date[7]))</span><br><span class="line">    rtc.datetime()</span><br><span class="line"></span><br><span class="line">#é–‹å§‹åŸ·è¡Œè¯ç¶²</span><br><span class="line">wifi_connect()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> micropython </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ESP32_micropythonå›ºä»¶çƒ§å½•</title>
      <link href="2020/11/05/esp32_micropython_gu_jian_shao_lu/esp32_micropython_gu_jian_shao_lu/"/>
      <url>2020/11/05/esp32_micropython_gu_jian_shao_lu/esp32_micropython_gu_jian_shao_lu/</url>
      
        <content type="html"><![CDATA[<h2 id="ESP32-micropython-å›ºä»¶çƒ§å½•"><a href="#ESP32-micropython-å›ºä»¶çƒ§å½•" class="headerlink" title="ESP32_micropython å›ºä»¶çƒ§å½•"></a>ESP32_micropython å›ºä»¶çƒ§å½•</h2><h3 id="çƒ§å½•å‡†å¤‡"><a href="#çƒ§å½•å‡†å¤‡" class="headerlink" title="çƒ§å½•å‡†å¤‡"></a>çƒ§å½•å‡†å¤‡</h3><p>1.micropython IDEï¼š<a target="_blank" rel="noopener" href="https://thonny.org/">Thonny</a></p><p><img src="./thonny_download.png" class="lazyload placeholder" data-srcset="./thonny_download.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="thonny_download.png"></p><p>2.ESP32 çš„ micropython å›ºä»¶ï¼š<a target="_blank" rel="noopener" href="https://www.micropython.org/download/esp32/">æˆ³æˆ‘è¿›ä¸‹è½½é¡µé¢</a>ï¼Œmicropython è¿˜æ”¯æŒå…¶ä»–èŠ¯ç‰‡<a target="_blank" rel="noopener" href="https://www.micropython.org/download/">link</a>ï¼Œä¸‹è½½é¡µé¢æœ‰å¾ˆå¤šå›ºä»¶é€‰æ‹©ï¼Œç”±äºæˆ‘çš„æ˜¯ä¸å¸¦ SPIRAM çš„ï¼Œå› æ­¤æˆ‘é€‰æ‹©äº†ç¬¬ä¸€ä¸ªã€‚</p><p><img src="./micropython%E5%9B%BA%E4%BB%B6.png" class="lazyload placeholder" data-srcset="./micropython%E5%9B%BA%E4%BB%B6.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="micropythonå›ºä»¶"></p><p>3.çƒ§å½•å·¥å…·ï¼š<br>è¿™é‡Œæä¾›ä¸¤ç§ï¼Œesptool åœ¨ GitHub ä¸Šæœ‰æ•™ç¨‹ï¼Œè¿™é‡Œå°±ä¸ç»†è®²ã€‚</p><ul><li><p>esptoolï¼š<a target="_blank" rel="noopener" href="https://github.com/espressif/esptool">github link</a></p></li><li><p>Thonny: micropython IDE</p></li><li><p>Flash ä¸‹è½½å·¥å…·ï¼š<a target="_blank" rel="noopener" href="https://www.espressif.com/support/download/other-tools">link</a></p><p><img src="./%E7%83%A7%E5%BD%95%E5%B7%A5%E5%85%B7.png" class="lazyload placeholder" data-srcset="./%E7%83%A7%E5%BD%95%E5%B7%A5%E5%85%B7.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="çƒ§å½•å·¥å…·.png"></p></li></ul><p>4.ESP32 æ¨¡ç»„ï¼š æ‰“å¼€æ·˜å®â€¦â€¦</p><h3 id="çƒ§å½•è¿‡ç¨‹"><a href="#çƒ§å½•è¿‡ç¨‹" class="headerlink" title="çƒ§å½•è¿‡ç¨‹"></a>çƒ§å½•è¿‡ç¨‹</h3><h4 id="ä½¿ç”¨-Thonny-çƒ§å½•"><a href="#ä½¿ç”¨-Thonny-çƒ§å½•" class="headerlink" title="ä½¿ç”¨ Thonny çƒ§å½•"></a>ä½¿ç”¨ Thonny çƒ§å½•</h4><p>ç‚¹å‡»å·¥å…·æ è¿è¡Œï¼Œé€‰æ‹©â€œé€‰æ‹©è§£é‡Šå™¨â€¦â€</p><p><img src="./Thonny_%E7%83%A7%E5%BD%95%E5%9B%BA%E4%BB%B6.png" class="lazyload placeholder" data-srcset="./Thonny_%E7%83%A7%E5%BD%95%E5%9B%BA%E4%BB%B6.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="Thonny_çƒ§å½•å›ºä»¶.png"><br><img src="./Thonny_%E7%83%A7%E5%BD%95%E5%9B%BA%E4%BB%B61.png" class="lazyload placeholder" data-srcset="./Thonny_%E7%83%A7%E5%BD%95%E5%9B%BA%E4%BB%B61.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="Thonny_çƒ§å½•å›ºä»¶1.png"></p><p>é€‰æ‹©æˆ‘ä»¬åœ¨ Micropython å®˜ç½‘ä¸‹è½½çš„å›ºä»¶åç‚¹å‡» install<br>è¿™æ˜¯ä» ESP å®˜ç½‘ä¸Šä¸‹è½½çš„å¯åŠ¨æ¨¡å¼æ–¹æ³•ï¼š</p><p><img src="./%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F.png" class="lazyload placeholder" data-srcset="./%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="å¯åŠ¨æ¨¡å¼.png"><br><img src="./%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F1.png" class="lazyload placeholder" data-srcset="./%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F1.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="å¯åŠ¨æ¨¡å¼1.png"></p><p>å³GPIO0å’ŒGPIO2å…¨éƒ¨æ¥åœ°ï¼ŒåŒæ—¶æŒ‰ä¸‹å¤ä½æŒ‰é”®ï¼Œä¿æŒ1æ¯«ç§’å†æ–­å¼€GPIO0æ–­å¼€æ¥åœ°ï¼ˆå› ä¸º GPIO0 é»˜è®¤ä¸Šæ‹‰ï¼‰ï¼Œä¾¿å¼€å§‹ä¸‹è½½ã€‚</p><h4 id="ä½¿ç”¨-Flash-ä¸‹è½½å·¥å…·"><a href="#ä½¿ç”¨-Flash-ä¸‹è½½å·¥å…·" class="headerlink" title="ä½¿ç”¨ Flash ä¸‹è½½å·¥å…·"></a>ä½¿ç”¨ Flash ä¸‹è½½å·¥å…·</h4><p>ä»å®˜ç½‘ä¸‹è½½äº†å·¥å…·ååŒå‡»æ‰“å¼€ï¼Œç­‰å¾…å‡ ç§’åï¼Œç‚¹å‡» ESP32downloadToolsï¼Œé€‰æ‹©æˆ‘ä»¬åœ¨ Micropython å®˜ç½‘ä¸‹è½½çš„å›ºä»¶åç‚¹å‡» START</p><p><img src="./flash_download.png" class="lazyload placeholder" data-srcset="./flash_download.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="flash_download.png"><br><img src="./flash_download1.png" class="lazyload placeholder" data-srcset="./flash_download1.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="flash_download1.png"></p><p>å†æŒ‰ç…§ä¸Šæ–‡ä¸­çš„å¯åŠ¨æ–¹æ³•å¯åŠ¨å³å¯ä¸‹è½½ã€‚</p><p>æˆåŠŸä¹‹å shell ä¼šå‡ºç°ä¸‹å›¾ï¼š</p><p><img src="./SHELL.png" class="lazyload placeholder" data-srcset="./SHELL.png" srcset="https://i.loli.net/2020/11/07/wHEd8N3iupP6vIr.gif" alt="SHELL.png"></p><p>åƒ python ä¸€æ ·å¯ä»¥å®æ—¶è¾“å…¥ï¼ŒESP32 å¯ä»¥ç›´æ¥çœ‹åˆ° LED ç¯è¢«ç‚¹äº®</p>]]></content>
      
      
      
        <tags>
            
            <tag> ESP32 </tag>
            
            <tag> micropython </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
